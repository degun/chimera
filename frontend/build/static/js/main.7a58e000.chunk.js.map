{"version":3,"sources":["Chimera_01-01.svg","store/reducers/authReducer.js","store/actions/actionTypes.js","store/reducers/usersReducer.js","store/reducers/transactionsReducer.js","store/reducers/systemReducer.js","store/reducers/dashboardReducer.js","store/reducers/logsReducer.js","store/reducers/rootReducer.js","store/actions/logTypes.js","store/actions/logsActions.js","store/actions/transactionsActions.js","useful.js","store/actions/usersActions.js","store/actions/authActions.js","store/actions/systemActions.js","pjeset/common/Menu.js","pjeset/common/Notifications.js","pjeset/Home/Dashboard.js","store/actions/dashboardActions.js","faqet/Home.js","faqet/Login.js","pjeset/Users/EditUser.js","pjeset/Users/AddUser.js","faqet/Users.js","pjeset/Transactions/AddTransaction.js","pjeset/Transactions/EditTransaction.js","faqet/Transactions.js","faqet/Logs.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","initialState","token","error","loading","admin","balance","id","authReducer","state","arguments","length","undefined","action","type","Object","objectSpread","authStart","authFail","email","username","is_staff","authSuccess","authSetToken","parseFloat","updateBalance","users","editing","editingThis","adding","updateUsersList","newUsers","map","user","url","data","usersReducer","console","log","getUsersList","filter","removeSuccess","beginEdit","endEdit","beginAdd","endAdd","concat","toConsumableArray","addSuccess","today","Date","aWeekAgo","setDate","getDate","transactions","editData","filters","partners","types","client","fromDate","setHours","toDate","allPartnersSelected","allTypesSelected","updateTransactionsList","newTransactions","transaction","systemReducer","getTransactionsList","defineProperty","value","setFilter","setAllPartnersSelected","setAllTypesSelected","menu","selected","selectMenu","partner","alltime","dashboardReducer","getDashboardData","message","logs","logsReducer","getLogs","removeLog","rootReducer","combineReducers","auth","transactionsReducer","system","dashboard","USER_ADD","USER_REMOVE","USER_UPDATE","USER_DEACTIVATE","USER_ACTIVATE","TRANSACTION_ADD","TRANSACTION_REMOVE","addLog","dispatch","getState","bearer","axios","post","log_type","headers","Authorization","then","res","catch","e","response","status","logout","getAllTransactions","_state$auth","_state$transactions","q","toLocaleDateString","get","urltoid","arr","split","formatText","text","toUpperCase","toLowerCase","slice","replace","formatDate","date","year","month","day","round2","num","Math","round","Number","EPSILON","numeral","register","delimiters","thousands","decimal","abbreviations","thousand","million","billion","trillion","currency","symbol","getAllUsers","updateUserLocally","updateAdminLocally","partner_data","setToken","window","persistor","flush","purge","connect","logOut","setMenu","refreshToken","_ref","useEffect","interval","setInterval","clearInterval","addEventListener","removeEventListener","react_default","a","createElement","Pivot","linkSize","PivotLinkSize","normal","linkFormat","PivotLinkFormat","links","selectedKey","onLinkClick","key","PivotItem","iconProps","iconName","itemKey","headerText","onClick","onRenderItemLink","react_router_dom","to","Icon","Text","variant","styles","root","verticalAlign","color","DefaultButton","className","allowDisabledFocus","react_router","getTransactions","updateThisUser","w3cwebsocket","_useState","useState","_useState2","slicedToArray","anchor","setAnchor","_useState3","_useState4","notifications","setNotifications","Notification","_ref2","head","body","hideNotification","_useState5","_useState6","active","setActive","timeoutid","setTimeout","clearTimeout","Callout","isBeakVisible","target","gapSpace","directionalHint","DirectionalHint","bottomRightEdge","width","backgrounColor","zIndex","display","padding","onopen","onmessage","m","msg","JSON","parse","close","ref","notification","i","n","removeNotification","partnerId","getData","_state$dashboard$filt","dateQ","selectedPartner","parseInt","partnersDropdown","u","urlArray","d","alldata","t","transaction_type","name","wire","reduce","accumulator","amount","cc","profit","amount_paid","allUsersWire","acc","b","allUsersCC","allUsersDeposits","singleUserData","partnerData","sort","entry_time","Set","da","prepareSingleUserData","singleUserWire","singleUserCC","singleUserDeposits","due","selectedPartnerName","find","seletedPartnerBalance","Stack","horizontal","horizontalAlign","tokens","childrenGap","ComboBox","autoComplete","options","placeholder","onChange","e2","style","DatePicker","firstDayOfWeek","DayOfWeek","Monday","maxDate","onSelectDate","minDate","Toggle","inlineLabel","label","onText","offText","checked","build_default","duration","formatValue","format","es6","height","strokeDasharray","dataKey","stackId","stroke","fill","val","document","title","Home_Dashboard","login","password","_res$data","pk","_res$data2","is_active","forgot","resetPassword","setEmail","setPassword","props","useSpring","opacity","from","src","logourl","alt","web","div","TextField","onKeyPress","_ref3","_ref4","_ref5","TooltipHost","content","PrimaryButton","save","oldUser","oldUsername","oldEmail","oldBalance","oldWRate","Wrate","oldCCRate","CCrate","patch","adminOrPartner","changedUsername","changedEmail","changedBalance","changedWRate","changedCCRate","logTypes","editUser","toggleActiveState","logtype","toggleActive","remove","delete","removeUser","staff","_username","setUsername","_email","_balance","setBalance","_useState7","_useState8","_Wrate","setWRate","_useState9","_useState10","_CCrate","setCCRate","_useState11","_useState12","_active","_useState13","_useState14","deleting","setDeleting","deActivateColorRoot","deActivateColorRootHovered","deActivateColorRootPressed","Modal","isOpen","onDismiss","isModeless","dragOptions","dragHandleSelector","containerClassName","ActionButton","buttonType","step","min","max","_ref6","borderColor","rootHovered","rootPressed","menuProps","items","marginRight","Dialog","hidden","dialogContentProps","DialogType","subText","modalProps","isBlocking","main","maxWidth","DialogFooter","backgroundColor","add","password1","password2","addUser","setPassword1","setPassword2","_useState15","_useState16","isReady","setReady","_useState17","passwordMatch","_useState18","errors","setErrors","errorMessage","onBlur","forEach","em","test","usernameRegex","RegExp","usernames","us","mediumRegex","_ref7","_ref8","disabled","locale","getUsers","sortkey","setSortkey","ascending","setAscending","searchStr","setSearchStr","roleFilter","setRoleFilter","array","asc","columns","fieldName","minWidth","isSorted","isSortedDescending","onColumnClick","isPadded","last_login","moment","fromNow","date_joined","x","y","indexOf","_e","Fabric","align","justifySelf","MarqueeSelection","DetailsList","compact","selectionMode","SelectionMode","none","isHeaderVisible","onItemInvoked","checkboxVisibility","onRenderItemColumn","item","index","column","fieldContent","marginLeft","onRenderRow","DetailsRow","assign","fontSize","Users_EditUser","Users_AddUser","rate","client_name","adminAmount","abs","partnerAmount","addTransaction","setType","setClient","setAmount","setAmountpaid","setPartner","currentPartner","setCurrentPartner","setRate","sign","setSign","ready","toPrecision","clientOK","setTheSign","showCalculations","borderLeft","allowFreeform","visibility","htmlFor","edit","editTransaction","_transactions$filter$","setTransactionsFilter","allTypes","bool","allPartners","deletingID","setDeletingID","includes","typesDropdown","isRowHeader","_onColumnClick","isResizable","onRender","IconButton","partnerColumns","created_at","Dropdown","selectedKeys","every","multiSelect","itemType","DropdownMenuItemType","Header","textAlign","enableShimmer","multiple","layoutMode","DetailsListLayoutMode","justified","row","Transactions_AddTransaction","Transactions_EditTransaction","react_csv","filename","_state$logs$filters","deleteLog","Log","hovered","setHovered","onMouseOver","onMouseOut","onMouseEnter","position","right","top","ActivityItem","classNames","exampleRoot","getUsername","filteredUser","mergeStyleSets","marginTop","nameText","fontWeight","activityDescription","Link","activityIcon","comments","timeStamp","marginBottom","initializeIcons","App","common_Menu","exact","path","component","Home","Login","Users","Transactions","Logs","common_Notifications","Boolean","location","hostname","match","persistConfig","storage","persistedReducer","persistReducer","store","createStore","applyMiddleware","thunk","persistStore","ReactDOM","render","es","integration_react","src_App","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.7a58e000.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Chimera_01-01.71e6b608.svg\";","import * as types from '../actions/actionTypes';\n\nconst initialState = {\n    token: \"\",\n    error: null,\n    loading: false,\n    admin: false,\n    balance: 0,\n    id: 0\n}\n\nconst authStart = (state, action) => {\n    return {...state, error: null, loading: true}\n}\n\nconst authSuccess = (state, action) => {\n    return {\n        ...state, \n        error: null, \n        loading: false, \n        token: action.token,\n        id: action.id,\n        email: action.email,\n        username: action.username,\n        admin: action.is_staff,\n        balance: action.balance\n    }\n}\n\nconst authSetToken = (state, action) => {\n    return {...state, token: action.token}\n}\n\n\nconst authFail = (state, action) => {\n    return {...state, error: action.error, loading: false}\n}\n\nconst updateBalance = (state, action) => {\n    return {...state, balance: parseFloat(action.balance)}\n}\n\nconst authReducer = (state = initialState, action) => {\n    switch(action.type){\n        case types.AUTH_START: return authStart(state, action);\n        case types.AUTH_FAIL: return authFail(state, action);\n        case types.AUTH_SUCCESS: return authSuccess(state, action);\n        case types.AUTH_SET_TOKEN: return authSetToken(state, action);\n        case types.ADMIN_UPDATE_BALANCE: return updateBalance(state, action);\n        case types.AUTH_LOGOUT: return {...initialState};\n        default: return state;\n    }\n}\n\nexport default authReducer;","export const AUTH_START = \"AUTH_START\";\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\nexport const AUTH_FAIL = \"AUTH_FAIL\";\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\nexport const AUTH_SET_TOKEN = \"AUTH_SET_TOKEN\";\nexport const AUTH_RESET_PASSWORD = \"AUTH_RESET_PASSWORD\";\nexport const AUTH_CHANGE_PASSWORD = \"AUTH_CHANGE_PASSWORD\";\nexport const USERS_GET_ONE = \"USERS_GET_ONE\";\nexport const USERS_GET_LIST = \"USERS_GET_LIST\";\nexport const USERS_BEGIN_ADD = \"USERS_BEGIN_ADD\";\nexport const USERS_END_ADD = \"USERS_END_ADD\";\nexport const USERS_ADD_SUCCESS = \"USERS_ADD_SUCCESS\";\nexport const USERS_ADD_FAIL = \"USERS_ADD_FAIL\";\nexport const USERS_BEGIN_EDIT = \"USERS_BEGIN_EDIT\";\nexport const USERS_END_EDIT = \"USERS_END_EDIT\";\nexport const USERS_EDIT_SUCCESS = \"USERS_EDIT_SUCCESS\";\nexport const USERS_EDIT_FAIL = \"USERS_EDIT_FAIL\";\nexport const USERS_ARCHIVE_SUCCESS = \"USERS_ARCHIVE_SUCCESS\";\nexport const USERS_ARCHIVE_FAIL = \"USERS_ARCHIVE_FAIL\";\nexport const USERS_REMOVE_SUCCESS = \"USERS_REMOVE_SUCCESS\";\nexport const USERS_REMOVE_FAIL = \"USERS_REMOVE_FAIL\";\nexport const USERS_UPDATE_USER = \"USERS_UPDATE_USER\";\nexport const TRANSACTIONS_SET_FILTER = \"TRANSACTIONS_SET_FILTER\";\nexport const TRANSACTIONS_SET_ALL_PARTNERS_SELECTED = \"TRANSACTIONS_SET_ALL_PARTNERS_SELECTED\";\nexport const TRANSACTIONS_SET_ALL_TYPES_SELECTED = \"TRANSACTIONS_SET_ALL_TYPES_SELECTED\";\nexport const TRANSACTIONS_GET_LIST = \"TRANSACTIONS_GET_LIST\";\nexport const TRANSACTIONS_BEGIN_ADD = \"TRANSACTIONS_BEGIN_ADD\";\nexport const TRANSACTIONS_END_ADD = \"TRANSACTIONS_END_ADD\";\nexport const TRANSACTIONS_ADD_SUCCESS = \"TRANSACTIONS_ADD_SUCCESS\";\nexport const TRANSACTIONS_ADD_FAIL = \"TRANSACTIONS_ADD_FAIL\";\nexport const TRANSACTIONS_BEGIN_EDIT = \"TRANSACTIONS_BEGIN_EDIT\";\nexport const TRANSACTIONS_END_EDIT = \"TRANSACTIONS_END_EDIT\";\nexport const TRANSACTIONS_EDIT_SUCCESS = \"TRANSACTIONS_EDIT_SUCCESS\";\nexport const TRANSACTIONS_EDIT_FAIL = \"TRANSACTIONS_EDIT_FAIL\";\nexport const TRANSACTIONS_ARCHIVE_SUCCESS = \"TRANSACTIONS_ARCHIVE_SUCCESS\";\nexport const TRANSACTIONS_ARCHIVE_FAIL = \"TRANSACTIONS_ARCHIVE_FAIL\";\nexport const TRANSACTIONS_REMOVE_SUCCESS = \"TRANSACTIONS_REMOVE_SUCCESS\";\nexport const TRANSACTIONS_REMOVE_FAIL = \"TRANSACTIONS_REMOVE_FAIL\";\nexport const DASHBOARD_SET_FILTER = \"DASHBOARD_SET_FILTER\";\nexport const DASHBOARD_GET_DATA = \"DASHBOARD_GET_DATA\";\nexport const LOGS_SET_FILTER = \"LOGS_SET_FILTER\";\nexport const LOGS_GET_DATA = \"LOGS_GET_DATA\";\nexport const LOGS_ADD = \"LOGS_ADD\";\nexport const LOGS_REMOVE = \"LOGS_REMOVE\";\nexport const SYSTEM_CALLOUT_SHOW = \"SYSTEM_CALLOUT_SHOW\";\nexport const SYSTEM_CALLOUT_HIDE = \"SYSTEM_CALLOUT_HIDE\";\nexport const SYSTEM_SET_SELECTED_MENU = \"SYSTEM_SET_SELECTED_MENU\";\nexport const ADMIN_UPDATE_BALANCE = \"ADMIN_UPDATE_BALANCE\";\nexport const ADMIN_UPDATE_LOCALLY = \"ADMIN_UPDATE_LOCALLY\";","import * as types from '../actions/actionTypes';\n\nconst initialState = {\n    users: [],\n    editing: false,\n    editingThis: '',\n    adding: false\n}\n\nconst getUsersList = (state, action) => {\n    return {...state, users: action.users}\n}\n\nconst beginEdit = (state, action) => {\n    return {...state, editing: true, editingThis: action.email}\n}\n\nconst endEdit = state => {\n    return {...state, editing: false}\n}\n\nconst beginAdd = state => {\n    return {...state, adding: true}\n}\n\nconst endAdd = state => {\n    return {...state, adding: false}\n}\n\nconst addSuccess = (state, action) => {\n    return {...state, users: [...state.users, action.user] }\n}\n\nconst removeSuccess = (state, action) => {\n    const newUsers = state.users.filter(user => {\n        return user.url !== action.url\n    });\n    return {...state, users: newUsers}\n}\n\nconst updateUsersList = (state, action) => {\n    const newUsers = state.users.map(user => {\n        if(user.url === action.data.url){\n            return action.data\n        }else{\n            return user\n        }\n    })\n    return {...state, users: newUsers}\n}\n\nconst usersReducer = (state = initialState, action) => {\n    console.log(action.type);\n    switch(action.type){\n        case types.USERS_GET_LIST: return getUsersList(state, action);\n        case types.USERS_GET_ONE: return updateUsersList(state, action);\n        case types.USERS_EDIT_SUCCESS: return updateUsersList(state, action);\n        case types.USERS_ARCHIVE_SUCCESS: return updateUsersList(state, action);\n        case types.USERS_REMOVE_SUCCESS: return removeSuccess(state, action);\n        case types.USERS_BEGIN_EDIT: return beginEdit(state, action);\n        case types.USERS_END_EDIT: return endEdit(state);\n        case types.USERS_BEGIN_ADD: return beginAdd(state);\n        case types.USERS_END_ADD: return endAdd(state);\n        case types.USERS_ADD_SUCCESS: return addSuccess(state, action);\n        case types.USERS_UPDATE_USER: return updateUsersList(state, action);\n        case types.AUTH_LOGOUT: return {...initialState};\n        default: return state;\n    }\n}\n\nexport default usersReducer;","import * as types from '../actions/actionTypes';\n\nconst today = new Date();\nconst aWeekAgo = new Date(new Date().setDate(today.getDate()-6));\n\nconst initialState = {\n    transactions: [],\n    editing: false,\n    editingThis: 0,\n    adding: false,\n    editData: {},\n    filters: {\n        partners: [],\n        types: [],\n        client: '',\n        fromDate: new Date(aWeekAgo.setHours(0,0,0,0)),\n        toDate: new Date(today.setHours(23,59,59,0))\n    },\n    allPartnersSelected: true,\n    allTypesSelected: true\n}\n\nconst getTransactionsList = (state, action) => {\n    return {...state, transactions: action.transactions}\n}\n\nconst beginEdit = (state, action) => {\n    return {...state, editing: true, editData: action.transaction}\n}\n\nconst endEdit = state => {\n    return {...state, editing: false}\n}\n\nconst beginAdd = state => {\n    return {...state, adding: true}\n}\n\nconst endAdd = state => {\n    return {...state, adding: false}\n}\n\nconst addSuccess = (state, action) => {\n    return {...state, transactions: [ action.transaction,...state.transactions] }\n}\n\nconst removeSuccess = (state, action) => {\n    const newTransactions = state.transactions.filter(transaction => {\n        return transaction.id !== action.id\n    });\n    return {...state, transactions: newTransactions}\n}\n\nconst updateTransactionsList = (state, action) => {\n    const newTransactions = state.transactions.map(transaction => {\n        if(transaction.url === action.data.url){\n            return action.data\n        }else{\n            return transaction\n        }\n    })\n    return {...state, transactions: newTransactions}\n}\n\nconst setFilter = (state, action) => {\n    return {...state, filters: {...state.filters, [action.filter]: action.value}}\n}\n\nconst setAllPartnersSelected = (state, action) => {\n    return {...state, allPartnersSelected: action.allPartnersSelected}\n}\n\nconst setAllTypesSelected = (state, action) => {\n    return {...state, allTypesSelected: action.allTypesSelected}\n}\n\nconst systemReducer = (state = initialState, action) => {\n    switch(action.type){\n        case types.TRANSACTIONS_GET_LIST: return getTransactionsList(state, action);\n        case types.TRANSACTIONS_EDIT_SUCCESS: return updateTransactionsList(state, action);\n        case types.TRANSACTIONS_ARCHIVE_SUCCESS: return updateTransactionsList(state, action);\n        case types.TRANSACTIONS_REMOVE_SUCCESS: return removeSuccess(state, action);\n        case types.TRANSACTIONS_BEGIN_EDIT: return beginEdit(state, action);\n        case types.TRANSACTIONS_END_EDIT: return endEdit(state);\n        case types.TRANSACTIONS_BEGIN_ADD: return beginAdd(state);\n        case types.TRANSACTIONS_END_ADD: return endAdd(state);\n        case types.TRANSACTIONS_ADD_SUCCESS: return addSuccess(state, action);\n        case types.TRANSACTIONS_SET_FILTER: return setFilter(state, action);\n        case types.TRANSACTIONS_SET_ALL_PARTNERS_SELECTED: return setAllPartnersSelected(state, action);\n        case types.TRANSACTIONS_SET_ALL_TYPES_SELECTED: return setAllTypesSelected(state, action);\n        case types.AUTH_LOGOUT: return {...initialState};\n        default: return state;\n    }\n}\n\nexport default systemReducer;","import * as types from '../actions/actionTypes';\n\nconst initialState = {\n    menu: '0'\n}\n\nconst selectMenu = (state, action) => {\n    return {...state, menu: action.selected}\n}\n\nconst systemReducer = (state = initialState, action) => {\n    switch(action.type){\n        case types.SYSTEM_SET_SELECTED_MENU: return selectMenu(state, action);\n        case types.AUTH_LOGOUT: return {...initialState};\n        default: return state;\n    }\n}\n\nexport default systemReducer;","import * as types from '../actions/actionTypes';\n\nconst initialState = {\n    filters: {\n        fromDate: new Date().setDate(1),\n        toDate: new Date(),\n        partner: 0,\n        alltime: false\n    },\n    data: []\n}\n\nconst setFilter = (state, action) => {\n    return {...state, filters: {...state.filters, [action.filter]: action.value}}\n}\n\nconst getDashboardData = (state, action) => {\n    return {...state, data: action.data}\n}\n\nconst dashboardReducer = (state = initialState, action) => {\n    switch(action.type){\n        case types.DASHBOARD_GET_DATA: return getDashboardData(state, action);\n        case types.DASHBOARD_SET_FILTER: return setFilter(state, action);\n        case types.AUTH_LOGOUT: return {...initialState};\n        default: return state;\n    }\n}\n\nexport default dashboardReducer;","import * as types from '../actions/actionTypes';\n\nconst initialState = {\n    filters: {\n        fromDate: new Date().setDate(1),\n        toDate: new Date(),\n        message: ''\n    },\n    logs: []\n}\n\nconst setFilter = (state, action) => {\n    return {...state, filters: {...state.filters, [action.filter]: action.value}}\n}\n\nconst getLogs = (state, action) => {\n    return {...state, logs: action.data}\n}\n\nconst removeLog = (state, action) => {\n    return {...state, logs: state.logs.filter(log => log.id !== action.id)}\n}\n\nconst logsReducer = (state = initialState, action) => {\n    switch(action.type){\n        case types.LOGS_GET_DATA: return getLogs(state, action);\n        case types.LOGS_SET_FILTER: return setFilter(state, action);\n        case types.AUTH_LOGOUT: return {...initialState};\n        case types.LOGS_REMOVE: return removeLog(state, action);\n        default: return state;\n    }\n}\n\nexport default logsReducer;","import { combineReducers } from 'redux';\nimport authReducer from './authReducer';\nimport usersReducer from './usersReducer';\nimport transactionsReducer from './transactionsReducer';\nimport systemReducer from './systemReducer';\nimport dashboardReducer from './dashboardReducer';\nimport logsReducer from './logsReducer';\n\nconst rootReducer = combineReducers({\n    auth: authReducer,\n    users: usersReducer,\n    transactions: transactionsReducer,\n    system: systemReducer,\n    dashboard: dashboardReducer,\n    logs: logsReducer\n})\n\nexport default rootReducer;\n","export const USER_ADD = \"USER_ADD\";\nexport const USER_REMOVE = \"USER_REMOVE\";\nexport const USER_UPDATE = \"USER_UPDATE\";\nexport const USER_DEACTIVATE = \"USER_DEACTIVATE\";\nexport const USER_ACTIVATE = \"USER_ACTIVATE\";\nexport const TRANSACTION_ADD = \"TRANSACTION_ADD\";\nexport const TRANSACTION_REMOVE = \"TRANSACTION_REMOVE\";\nexport const TRANSACTION_UPDATE = \"TRANSACTION_UPDATE\";","import * as types from './actionTypes';\nimport axios from 'axios';\nimport { logout } from './authActions';\n\nexport const addLog = (user, type, message) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {token} = state.auth;\n        const bearer = 'Bearer ' + token;\n        axios.post(`https://api.chimera-finance.com/api/logs/`, {user, log_type: type, message}, { headers: { 'Authorization': bearer } }).then(res => {\n            dispatch({\n                type: types.LOGS_ADD,\n                data: res.data\n            })\n        }).catch(e => {\n            console.log(e)\n            if(e.response && e.response && e.response.status === 401){\n                dispatch(logout);\n            }\n        });         \n    }    \n}\n\nexport const deleteLog = id => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {token} = state.auth;\n        const bearer = 'Bearer ' + token;\n        axios.delete(`https://api.chimera-finance.com/api/logs/${id}`, { headers: { 'Authorization': bearer } }).then(res => {\n            dispatch({\n                type: types.LOGS_REMOVE,\n                id\n            })\n        }).catch(e => {\n            console.log(e)\n        })\n    }\n}\n\nexport const setFilter = (filter, value) => {\n    return {\n        type: types.LOGS_SET_FILTER,\n        filter,\n        value\n    }\n}\n\nexport const getLogs = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {fromDate, toDate, message} = state.logs.filters;\n        const {token} = state.auth;\n        let q = `?from=${new Date(fromDate).toLocaleDateString(\"it-IT\")}&to=${new Date(toDate).toLocaleDateString(\"it-IT\")}&`;\n        if(message){q+=`message=${message}`}\n        const bearer = 'Bearer ' + token;\n        axios.get(`https://api.chimera-finance.com/api/logs/${q}`, { headers: { 'Authorization': bearer } }).then(res => {\n            dispatch({\n                type: types.LOGS_GET_DATA,\n                data: res.data\n            })\n        }).catch(e => {\n            console.log(e)\n            if(e.response && e.response.status === 401){\n                dispatch(logout());\n            }\n        });         \n    }    \n}","import * as actionTypes from './actionTypes';\nimport * as logTypes from './logTypes';\nimport axios from 'axios';\nimport numeral from 'numeral';\nimport { updateUserLocally, updateAdminLocally } from './usersActions';\nimport { logout } from './authActions';\nimport { addLog } from './logsActions';\n\nexport const getAllTransactions = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {token, admin} = state.auth;\n        const {allTypesSelected, filters} = state.transactions;\n        // const own = admin ? '' : 'own';\n        const {client, types, partners, fromDate, toDate} = filters;\n        let q = `?from=${new Date(fromDate).toLocaleDateString(\"it-IT\")}&to=${new Date(toDate).toLocaleDateString(\"it-IT\")}&`;\n        if(client){q+=`client=${client}&`}\n        if(!allTypesSelected){q+=`types=${types}&,`}\n        if(admin){q+=`partners=${partners}&,`};\n        const bearer = 'Bearer ' + token;\n        if(!types.length || (admin && !partners.length)){\n            dispatch({\n                type: actionTypes.TRANSACTIONS_GET_LIST,\n                transactions: []\n            })\n        }else{\n            axios.get(`https://api.chimera-finance.com/api/transactions/${q}`, { headers: { 'Authorization': bearer } }).then(res => {\n                const transactions = res.data;\n                dispatch({\n                    type: actionTypes.TRANSACTIONS_GET_LIST,\n                    transactions\n                })\n            }).catch(e => {\n                console.log(e)\n                if(e.response && e.response.status === 401){\n                    dispatch(logout);\n                }\n            });\n        }\n    }   \n}\n\nexport const beginAdd = () => {\n    return dispatch => {\n        dispatch({type: actionTypes.TRANSACTIONS_BEGIN_ADD})\n    }\n}\n\nexport const endAdd = () => {\n    return dispatch => {\n        dispatch({type: actionTypes.TRANSACTIONS_END_ADD})\n    }\n}\n\nexport const beginEdit = id => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {transactions} = state.transactions;\n        const transaction = transactions.filter(t=>t.id === id)[0]\n        dispatch({type: actionTypes.TRANSACTIONS_BEGIN_EDIT, transaction})\n    }\n}\n\nexport const endEdit = () => {\n    return dispatch => {\n        dispatch({type: actionTypes.TRANSACTIONS_END_EDIT})\n    }\n}\n\nexport const addTransaction = (transaction_type, client_name, amount, amount_paid, rate, user ) => {\n    if(transaction_type === \"Payment\")client_name = \"-\"\n    return (dispatch, getState) => {\n        const state = getState();\n        const {users} = state.users;\n        const user0 = users.filter(u=> u.url === `http://api.chimera-finance.com/api/users/${user}/`)[0];\n        const {username} = user0;\n        const {token} = state.auth;\n        const bearer = 'Bearer ' + token;\n        axios.post(\"https://api.chimera-finance.com/api/transactions/\", {\n            transaction_type, client_name, amount, amount_paid, rate, user\n        },{\n            headers: {\"Authorization\": bearer}\n        }).then(res => {\n            dispatch({type: actionTypes.TRANSACTIONS_ADD_SUCCESS, transaction: res.data});\n            dispatch({type: actionTypes.TRANSACTIONS_END_ADD});\n            dispatch(updateUserLocally(user));\n            dispatch(updateAdminLocally());\n            let message;\n            const adminAmount = numeral(Math.abs(parseFloat(amount))).format('0,0.00 $');\n            const partnerAmount = numeral(Math.abs(parseFloat(amount_paid))).format('0,0.00 $');\n            switch(transaction_type){\n                case 'Wire':\n                case 'Credit Card': message = `Added deposit of ${adminAmount} by client ${client_name}, made via ${transaction_type}. Amount registered on partner ${username} is ${partnerAmount}, given that the actual rate is ${rate}.`; break;\n                case 'Withdraw': message = `Client ${client_name} withdrawed ${adminAmount} from main balance. ${partnerAmount} were substracted from ${username}'s balance, given that the actual rate is ${rate}.`; break;\n                case 'Payment': message = `Made payment of ${adminAmount} to ${username}`;break;\n                default: message = `Made transaction of type ${transaction_type}. Partner ${username}, main amount ${adminAmount}, partner amount ${partnerAmount} (because rate is ${rate}).`;break;\n            } \n            dispatch(addLog(user, logTypes.TRANSACTION_ADD, message))\n        }).catch(e => {\n            dispatch({type: actionTypes.TRANSACTIONS_ADD_FAIL, e})\n        })\n    }\n}\n\nexport const editTransaction = (transaction_type, client_name, amount, amount_paid, rate, user, id ) => {\n    if(transaction_type === \"Payment\")client_name = \"-\";\n    return (dispatch, getState) => {\n        const state = getState();\n        const {transactions} = state.transactions;\n        const transaction0 = transactions.filter(t=> t.id === id)[0];\n        const {username} = transaction0;\n        const {token} = state.auth;\n        const bearer = 'Bearer ' + token;\n        axios.post(\"https://api.chimera-finance.com/api/transactions/\", {\n            transaction_type, client_name, amount, amount_paid, rate, user\n        },{\n            headers: {\"Authorization\": bearer}\n        }).then(res => {\n            dispatch({type: actionTypes.TRANSACTIONS_ADD_SUCCESS, transaction: res.data});\n            dispatch({type: actionTypes.TRANSACTIONS_END_ADD});\n            dispatch(updateUserLocally(user));\n            dispatch(updateAdminLocally());\n            let message;\n            const adminAmount = numeral(Math.abs(parseFloat(amount))).format('0,0.00 $');\n            const partnerAmount = numeral(Math.abs(parseFloat(amount_paid))).format('0,0.00 $');\n            switch(transaction_type){\n                case 'Wire':\n                case 'Credit Card': message = `Added deposit of ${adminAmount} by client ${client_name}, made via ${transaction_type}. Amount registered on partner ${username} is ${partnerAmount}, given that the actual rate is ${rate}.`; break;\n                case 'Withdraw': message = `Client ${client_name} withdrawed ${adminAmount} from main balance. ${partnerAmount} were substracted from ${username}'s balance, given that the actual rate is ${rate}.`; break;\n                case 'Payment': message = `Made payment of ${adminAmount} to ${username}`;break;\n                default: message = `Made transaction of type ${transaction_type}. Partner ${username}, main amount ${adminAmount}, partner amount ${partnerAmount} (because rate is ${rate}).`;break;\n            } \n            dispatch(addLog(user, logTypes.TRANSACTION_ADD, message))\n        }).catch(e => {\n            dispatch({type: actionTypes.TRANSACTIONS_ADD_FAIL, e})\n        })\n    }\n}\n\n\nexport const removeTransaction = id => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const token = state.auth.token;\n        const bearer = 'Bearer ' + token;\n        axios.delete(`https://api.chimera-finance.com/api/transactions/${id}/`,{headers: {\"Authorization\": bearer}})\n        .then(() => {\n            const {transactions} = state.transactions;\n            const {amount, amount_paid, client_name, user, rate, transaction_type} = transactions.filter(t=>t.id === id)[0];\n            const {users} = state.users;\n            const user0 = users.filter(u=> u.url === `http://api.chimera-finance.com/api/users/${user}/`)[0];\n            const {username} = user0;\n            const adminAmount = numeral(parseFloat(amount)).format('0,0.00 $');\n            const partnerAmount = numeral(parseFloat(amount_paid)).format('0,0.00 $');\n            dispatch({type: actionTypes.TRANSACTIONS_REMOVE_SUCCESS, id});\n            dispatch({type: actionTypes.TRANSACTIONS_END_EDIT});\n            dispatch(updateAdminLocally());\n            const message = `Removed transaction ${id} of type ${transaction_type}. Client: ${client_name}. Main amount: ${adminAmount}. Partner amount: ${partnerAmount}. Partner: ${username}. Rate ${rate}`;\n            dispatch(addLog(user, logTypes.TRANSACTION_REMOVE, message))\n        })\n        .catch(e => dispatch({type: actionTypes.TRANSACTIONS_REMOVE_FAIL, error: e}))\n    }\n}\n\nexport const setTransactionsFilter = (filter, value) => {\n    return dispatch => {\n        dispatch({type: actionTypes.TRANSACTIONS_SET_FILTER, filter, value});\n        dispatch(getAllTransactions())\n    }\n}\n\nexport const setAllPartnersSelected = allPartnersSelected => {\n    return {\n        type: actionTypes.TRANSACTIONS_SET_ALL_PARTNERS_SELECTED,\n        allPartnersSelected\n    }\n}\n\nexport const setAllTypesSelected = allTypesSelected => {\n    return {\n        type: actionTypes.TRANSACTIONS_SET_ALL_TYPES_SELECTED,\n        allTypesSelected\n    }\n}\n","import numeral from 'numeral';\n\nexport function urltoid(url){\n    const arr = url.split(\"/\");\n    return arr[arr.length - 2];\n}\n\nexport function formatText(text){\n    return text[0].toUpperCase() + text.toLowerCase().slice(1).replace(/[_.]/, ' ')\n}\n\nexport function formatDate(date){\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\n    return date.toLocaleDateString('en-UK', options)\n}\n\nexport function round2(num){\n    return Math.round(num * 100 + Number.EPSILON) / 100\n}\n\nnumeral.register('locale', 'al', {\n    delimiters: {\n        thousands: '.',\n        decimal: ','\n    },\n    abbreviations: {\n        thousand: 'k',\n        million: 'm',\n        billion: 'b',\n        trillion: 't'\n    },\n    currency: {\n        symbol: ''\n    }\n});","import * as types from './actionTypes';\nimport axios from 'axios';\nimport numeral from 'numeral';\nimport { getAllTransactions } from './transactionsActions';\nimport { logout } from './authActions';\nimport { addLog } from './logsActions';\nimport { urltoid } from '../../useful';\nimport * as  logTypes from './logTypes';\n\nexport const getAllUsers = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {token} = state.auth;\n        const bearer = 'Bearer ' + token;\n        axios.get('https://api.chimera-finance.com/api/users/', { headers: { 'Authorization': bearer } }).then(res => {\n            dispatch({\n                type: types.USERS_GET_LIST,\n                users: res.data\n            })\n        }).catch(e => {\n            console.log(e);\n            if(e.response && e.response.status === 401){\n                dispatch(logout);\n            }\n        });\n    }   \n}\n\nexport const beginAdd = () => {\n    return dispatch => {\n        dispatch({type: types.USERS_BEGIN_ADD})\n    }\n}\n\nexport const endAdd = () => {\n    return dispatch => {\n        dispatch({type: types.USERS_END_ADD})\n    }\n}\n\nexport const beginEdit = email => {\n    return dispatch => {\n        dispatch({type: types.USERS_BEGIN_EDIT, email})\n    }\n}\n\nexport const endEdit = () => {\n    return dispatch => {\n        dispatch({type: types.USERS_END_EDIT})\n    }\n}\n\nexport const updateUserLocally = id => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {token} = state.auth;\n        axios.get(`https://api.chimera-finance.com/api/users/${id}/`,{\n            headers: {\"Authorization\": 'Bearer ' + token}\n        }).then(response=>{\n            dispatch({type: types.USERS_GET_ONE, data: response.data});\n        }).catch(e => {\n            console.log(e);\n        })\n    }\n}\n\nexport const updateAdminLocally = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {token, id} = state.auth;\n        axios.get(`https://api.chimera-finance.com/api/users/${id}/`,{\n            headers: {\"Authorization\": 'Bearer ' + token}\n        }).then(response=>{\n            dispatch({type: types.ADMIN_UPDATE_BALANCE, balance: response.data.partner_data.balance});\n        }).catch(e => {\n            console.log(e);\n        })\n    }\n}\n\nexport const addUser = (username, email, password, partner_data) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {token} = state.auth;\n        const bearer = 'Bearer ' + token;\n        axios.post(\"https://api.chimera-finance.com/api/users/\", {\n            username, email, password, partner_data\n        },{\n            headers: {\"Authorization\": bearer}\n        }).then(res => {\n            const {url, username, partner_data} = res.data;\n            const {balance, Wrate, CCrate} = partner_data;\n            dispatch({type: types.USERS_ADD_SUCCESS, user: res.data});\n            dispatch({type: types.USERS_END_ADD});\n            dispatch(updateAdminLocally());\n            dispatch(addLog(urltoid(url), logTypes.USER_ADD, `Added partner ${username} with initial balance ${numeral(parseFloat(balance)).format('0,0.00 $')} Wire rate ${Wrate} and Credit Card rate ${CCrate}.`))\n        }).catch(e => {\n            dispatch({type: types.USERS_ADD_FAIL})\n        })\n    }\n}\n\nexport const editUser = (url, username, email, partner_data) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {users} = state.users;\n        const oldUser = users.filter(u=> u.url === url)[0];\n        const oldUsername = oldUser.username;\n        const oldEmail = oldUser.email;\n        const oldBalance = oldUser.partner_data.balance;\n        const oldWRate = oldUser.partner_data.Wrate;\n        const oldCCRate = oldUser.partner_data.CCrate;\n        const admin = oldUser.is_staff;\n        const {balance, Wrate, CCrate} = partner_data;\n        const token = state.auth.token;\n        const bearer = 'Bearer ' + token;\n        axios.patch(url.replace('http', 'https'), {username, email, partner_data},{headers: {\"Authorization\": bearer}})\n        .then(res => {\n            dispatch({type: types.USERS_EDIT_SUCCESS, data: res.data});\n            dispatch({type: types.USERS_END_EDIT});\n            dispatch(updateAdminLocally())\n            dispatch(updateUserLocally(urltoid(url)));\n            const adminOrPartner = admin ? 'admin' : `partner with id ${urltoid(url)}`;\n            const changedUsername = (username !== oldUsername) ? ` username from ${oldUsername} to ${username},` : '';\n            const changedEmail = (email !== oldEmail) ?  ` email from ${oldEmail} to ${email},` : '';\n            const changedBalance = (parseFloat(balance) !== parseFloat(oldBalance)) ?  ` balance from ${numeral(parseFloat(oldBalance)).format('0,0.00 $')} to ${numeral(parseFloat(balance)).format('0,0.00 $')},` : '';\n            const changedWRate = (Wrate !== oldWRate) ?  ` Wire rate from ${oldWRate} to ${Wrate},` : '';\n            const changedCCRate = (CCrate !== oldCCRate) ?  ` Credit Card rate from ${oldCCRate} to ${CCrate},` : '';\n            let message = `Updated ${adminOrPartner}: changed${changedUsername + changedEmail + changedBalance + changedWRate + changedCCRate}`.replace(/.$/,\".\");\n            dispatch(addLog(urltoid(url), logTypes.USER_UPDATE, message))\n        })\n        .catch(e => dispatch({type: types.USERS_EDIT_FAIL, error: e}))\n    }\n}\n\nexport const removeUser = url => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {token} = state.auth;\n        const {users} = state.users;\n        const user = users.filter(u=> u.url === url)[0];\n        const bearer = 'Bearer ' + token;\n        axios.delete(url.replace('http', 'https'),{headers: {\"Authorization\": bearer}})\n        .then((res) => {\n            const {username, partner_data} = user;\n            const {balance} = partner_data;\n            dispatch({type: types.USERS_REMOVE_SUCCESS, url});\n            dispatch({type: types.USERS_END_EDIT});\n            dispatch(updateAdminLocally());\n            dispatch(getAllTransactions());\n            const message = `Removed partner ${username}, along with his balance of ${balance} and all his transactions.`;\n            dispatch(null, logTypes.USER_REMOVE, message)\n        })\n        .catch(e => dispatch({type: types.USERS_REMOVE_FAIL, error: e}))\n    }\n}\n\nexport const toggleActive = (url, is_active) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {users} = state.users;\n        const user = users.filter(u=> u.url === url)[0];\n        const {username} = user;\n        const token = state.auth.token;\n        const bearer = 'Bearer ' + token;\n        axios.patch(url, {is_active, partner_data: {}},{headers: {\"Authorization\": bearer}})\n        .then(res => {\n            dispatch({type: types.USERS_ARCHIVE_SUCCESS, data: res.data});\n            dispatch({type: types.USERS_END_EDIT});\n            dispatch(updateUserLocally(urltoid(url)));\n            const logtype = is_active ? logTypes.USER_ACTIVATE : logTypes.USER_DEACTIVATE;\n            const action = is_active ? \"Activated\" : \"Deactivated\";\n            const message = `${action} partner ${username}. Now he will ${is_active ? 'again' : 'not'} be available for new transactions and${is_active ? '' : ' will not be able to'} log in.`;\n            dispatch(addLog(urltoid(url), logtype, message))\n        })\n        .catch(e => dispatch({type: types.USERS_ARCHIVE_FAIL, error: e}))\n    }\n}","import axios from 'axios';\nimport * as types from './actionTypes';\nimport {getAllUsers} from './usersActions';\nimport {getAllTransactions} from './transactionsActions';\n\nexport const authStart = () => {\n    return {\n        type: types.AUTH_START\n    }\n}\n\nexport const authSuccess = (token, id, email, username, is_staff, balance) => {\n    return {\n        type: types.AUTH_SUCCESS,\n        token,\n        id,\n        email,\n        username,\n        is_staff,\n        balance\n    }\n}\nexport const authFail = error => {\n    return {\n        type: types.AUTH_FAIL,\n        error\n    }\n}\nexport const authLogout = () => {\n    return {\n        type: types.AUTH_LOGOUT\n    }\n}\n\nexport const setToken = token => {\n    return {\n        type: types.AUTH_SET_TOKEN,\n        token\n    }\n}\n\nexport const logout = () => {\n    return dispatch => {\n        axios.post('https://api.chimera-finance.com/api/auth/logout/').then(()=>{\n            dispatch(authLogout())\n            window.persistor.flush()\n            window.persistor.purge()\n        }).catch(e => {\n            console.log(e.message)\n        })\n    }\n}\n\nexport const refreshToken = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {token} = state.auth;\n        axios.post('https://api.chimera-finance.com/api/auth-jwt-refresh/', {token}).then(res => {\n            dispatch(setToken(res.data.token))\n        }).catch(e => {\n            console.log(\"refresh token error \" + e)\n            dispatch(logout())\n        })\n    }\n}\n\nexport const login = (email, password) => {\n    return dispatch => {\n        dispatch(authStart());\n        axios.post('https://api.chimera-finance.com/api/auth/login/', {\n            email,\n            password\n        }).then(res => {\n            const {token, user} = res.data;\n            const {pk, email, username} = user;\n            axios.get(`https://api.chimera-finance.com/api/users/${pk}/`,{\n                headers: {'Authorization': `Bearer ${token}`}\n            }).then(res => {\n                const {is_active, is_staff, partner_data} = res.data;\n                let balance  = parseFloat(partner_data.balance);\n                if(is_active){\n                    dispatch(authSuccess(token, pk, email, username, is_staff, balance));\n                }\n                if(is_staff){\n                    dispatch(getAllUsers());\n                    dispatch(getAllTransactions())\n                }\n            })\n        }).catch(error => {\n            dispatch(authFail(error));\n        })\n    }\n}\n\nexport const resetPassword = email => {\n    return dispatch => {\n        axios.post('https://api.chimera-finance.com/api/auth/password/reset/', {email});\n        dispatch({type: types.AUTH_RESET_PASSWORD});\n    }\n}\n\nexport const changePassword = (new_password1, new_password2) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {token} = state.auth;\n        const bearer = 'Bearer ' + token;\n        axios.post('https://api.chimera-finance.com/api/auth/password/change/', {new_password1, new_password2}, { headers: { 'Authorization': bearer } });\n        dispatch({type: types.AUTH_RESET_PASSWORD});\n    }\n}\n\nexport const signup = (username, email, password1, password2) => {\n    return dispatch => {\n        dispatch(authStart());\n        axios.post('https://api.chimera-finance.com/api/users/register/', {\n            username,\n            email,\n            password1,\n            password2\n        }).then(res => {\n            const token = res.data.key;\n            dispatch(authSuccess(token));\n        }).catch(error => {\n            dispatch(authFail(error));\n        })\n    }\n}","import * as types from './actionTypes';\n\nexport const selectMenu = selected => {\n    return dispatch => {\n        dispatch({\n            type: types.SYSTEM_SET_SELECTED_MENU,\n            selected\n        })\n    }\n}","import React, { useEffect } from 'react';\nimport { Pivot, PivotItem, PivotLinkSize, PivotLinkFormat } from 'office-ui-fabric-react/lib/Pivot';\nimport { Icon } from 'office-ui-fabric-react/lib/Icon';\nimport { DefaultButton } from 'office-ui-fabric-react';\nimport { Text } from 'office-ui-fabric-react/lib/Text';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { logout, refreshToken } from '../../store/actions/authActions';\nimport { selectMenu } from '../../store/actions/systemActions';\nimport './Menu.sass';\n\nfunction Menu({logOut, refreshToken, setMenu, token, menu, admin, username}){\n    useEffect(() => {\n      const interval = setInterval( () => {\n        refreshToken()\n      }, 300000);\n      return () => clearInterval(interval);\n    }, []);\n\n    useEffect(() => {\n        window.addEventListener(\"focus\", refreshToken);\n        return () => window.removeEventListener(\"focus\", refreshToken);\n    },[])\n    \n    if(!token) return null;\n    \n    function itemClicked(e){\n      setMenu(e.key.slice(1));\n    }\n    \n    function logOutClicked(){\n      logOut();\n      return <Redirect to=\"/login\" />\n    }\n    \n    return (\n        <div id=\"menu\">\n          <nav>\n            <Pivot linkSize={PivotLinkSize.normal} linkFormat={PivotLinkFormat.links} selectedKey={menu} onLinkClick={itemClicked}>\n              <PivotItem iconProps={{iconName: 'People'}} itemKey=\"0\" headerText=\"Dashboard\" onClick={() => setMenu(\"home\")} onRenderItemLink={() => <Link to=\"/\"><Icon iconName=\"Diagnostic\" /> Dashboard</Link>} />\n              {admin ? <PivotItem itemKey=\"1\" headerText=\"Users\" onClick={() => setMenu(\"users\")} onRenderItemLink={() => <Link to=\"/users\"><Icon iconName=\"People\" /> Users</Link>} /> : null}\n              <PivotItem itemKey=\"2\" headerText=\"Transactions\" onClick={() => setMenu(\"transactions\")} onRenderItemLink={() => <Link to=\"/transactions\"><Icon iconName=\"Money\" /> Transactions</Link>} />\n              <PivotItem itemKey=\"4\" headerText=\"Transactions\" onClick={() => setMenu(\"logs\")} onRenderItemLink={() => <Link to=\"/logs\"><Icon iconName=\"TextDocument\" /> Logs</Link>} />\n            </Pivot>\n            <div>\n              <Text variant=\"large\" styles={{root: {verticalAlign: 'middle', color: '#777'}}}>{username}  |  </Text>\n              <DefaultButton\n                className=\"logout\"\n                allowDisabledFocus={true}\n                text=\"Logout\"\n                onClick={() => logOutClicked()}\n                iconProps={{ iconName: 'Leave' }}\n              />\n            </div>\n          </nav>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token,\n    admin: state.auth.admin,\n    menu: state.system.menu,\n    username: state.auth.username\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    logOut: () => dispatch(logout()),\n    setMenu: menu => dispatch(selectMenu(menu)),\n    refreshToken: () => dispatch(refreshToken())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);","import React, {useState,useEffect} from 'react';\nimport { connect } from 'react-redux';\nimport { w3cwebsocket } from 'websocket';\nimport { Callout, DirectionalHint } from 'office-ui-fabric-react/lib/Callout';\nimport { Text } from 'office-ui-fabric-react/lib/Text';\nimport { formatText } from '../../useful';\nimport { getAllTransactions } from '../../store/actions/transactionsActions';\nimport { updateAdminLocally } from '../../store/actions/usersActions';\nimport './Notifications.sass';\n\nfunction Notifications({token, getTransactions, updateThisUser}){\n    const client = w3cwebsocket(`wss://api.chimera-finance.com/notifications/?${token}`);\n    const [anchor, setAnchor] = useState(null);\n    const [notifications, setNotifications] = useState([]);\n    \n    useEffect(()=>{\n        client.onopen = () => {\n          console.log('WebSocket Client Connected');\n        };\n        client.onmessage = (m) => {\n            const msg = JSON.parse(m.data);\n            const {message, id, type} = msg;\n            setNotifications([...notifications, {head: formatText(type), message, id}])\n            getTransactions();\n            updateThisUser();\n        };\n        return () => client.close()\n    }, [token])\n\n    function Notification({head, body, id, hideNotification}){\n        const [active, setActive] = useState(true);\n        useEffect(()=>{\n            const timeoutid = setTimeout(() => {\n                setActive(false)\n                hideNotification(id)\n            }, 10000);\n            return () => clearTimeout(timeoutid)\n        }, [])\n        return(\n            <div>\n                {active ? <Callout\n                    className=\"ms-CalloutExample-callout\"\n                    onClick={()=>hideNotification(id)}\n                    isBeakVisible={false}\n                    target={anchor}\n                    gapSpace={0}\n                    directionalHint={DirectionalHint.bottomRightEdge}\n                    styles={{root: {width: '280px', backgrounColor: 'white', zIndex: 8}}}\n                >\n                    <div className=\"content\">\n                        <Text styles={{root: {display: 'block', padding: '20px 20px 0px 20px'}}} variant=\"large\">{head}</Text>\n                        <Text styles={{root: {display: 'block', padding: '0px 20px 20px 20px'}}} variant=\"medium\">{body}</Text>\n                    </div>\n                </Callout>: null}\n            </div>\n        )\n    }\n\n    function removeNotification(id){\n        setNotifications(notifications.filter(n=>n.id !== id))\n    }\n\n    return(\n        <div id=\"notifications\">\n            <div className=\"ms-CalloutCoverExample-buttonArea\" id=\"anchor\" ref={ref=>setAnchor(ref)}>\n                {notifications.map((notification, i) => {\n                    return <Notification key={i} head={notification.head} body={notification.message} id={notification.id} hideNotification={id => removeNotification(id)}/>\n                })}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.auth.token\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getTransactions: () => dispatch(getAllTransactions()),\n        updateThisUser: () => dispatch(updateAdminLocally())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifications);","import React, {useEffect} from 'react';\nimport {BarChart, Bar, XAxis, YAxis, CartesianGrid, Legend, Tooltip, AreaChart, Area} from 'recharts';\nimport numeral from 'numeral';\nimport { connect } from 'react-redux';\nimport { Text } from 'office-ui-fabric-react/lib/Text';\nimport { Toggle } from 'office-ui-fabric-react/lib/Toggle';\nimport { DatePicker, DayOfWeek } from 'office-ui-fabric-react';\nimport { Stack } from 'office-ui-fabric-react/lib/Stack';\nimport { ComboBox } from 'office-ui-fabric-react/lib/index';\nimport { setFilter, getDashboardData } from '../../store/actions/dashboardActions';\nimport AnimatedNumber from 'animated-number-react';\nimport { round2 } from '../../useful';\nimport './Dashboard.sass';\n\nfunction Dashboard({admin, balance, users, setFilter, filters, getData, data, partnerId}){\n\n    let {fromDate, toDate, partner, alltime} = filters;\n\n    const selectedPartner = admin ? partner : parseInt(partnerId);\n\n    useEffect(()=>{\n        getData()\n    }, [getData, fromDate, toDate, partner, alltime])\n\n    fromDate = new Date(fromDate);\n    toDate = new Date(toDate);\n\n    const partnersDropdown = users.filter(u=> !u.is_staff).map(u => {\n        const urlArray = u.url.split(\"/\");\n        const key = urlArray[urlArray.length - 2];\n        return {key, text: u.username}\n    });\n\n    function formatDate(date){\n        const options = { year: 'numeric', month: 'long', day: 'numeric' };\n        return date.toLocaleDateString('en-UK', options);\n    }\n\n    function prepareSingleUserData(id){\n        const partnerData = data.sort((a, b) => new Date(a.entry_time) - new Date(b.entry_time)).filter(d => d.user === parseInt(id)).filter(d => d.transaction_type !== \"Payment\").map(d=> {\n            return {\n                ...d,\n                entry_time: new Date(d.entry_time).toLocaleDateString(\"it-IT\").replace('/2019', '')\n            }\n        });\n        const dates = [...new Set(partnerData.map(d => d.entry_time))];\n        return dates.map(d => {\n            return {\n                name: d,\n                wire: round2(partnerData.filter(p => p.entry_time === d).filter(d => (d.transaction_type === \"Wire\" || d.transaction_type === \"Withdraw\")).reduce((acc, a)=>{\n                    return parseFloat(a.amount) + acc\n                }, 0)),\n                cc: round2(partnerData.filter(p => p.entry_time === d).filter(d => d.transaction_type === \"Credit Card\").reduce((acc, a)=>{\n                    return parseFloat(a.amount) + acc\n                }, 0)),\n                profit: round2(partnerData.filter(p => p.entry_time === d).reduce((da, a)=>{\n                    return parseFloat(a.amount) - parseFloat(a.amount_paid) + da\n                }, 0))\n            }\n        })\n    }\n\n    function prepareAllUsersData(d){\n        d = d.filter(t => t.transaction_type !== \"Payment\");\n        const partners = users.filter(u=>!u.is_staff).map(u => {\n            const urlArray = u.url.split(\"/\");\n            const id = parseInt(urlArray[urlArray.length - 2]);\n            const username = u.username\n            return {id, username}\n        });\n        return partners.map(p => {\n            return {\n                name: p.username,\n                wire: round2(d.filter(d => parseInt(d.user) === p.id).filter(d => (d.transaction_type === \"Wire\" || d.transaction_type === \"Withdraw\")).reduce((accumulator, a)=>{\n                    return parseFloat(a.amount) + accumulator\n                }, 0)),\n                cc: round2(d.filter(d => parseInt(d.user) === p.id).filter(d => d.transaction_type === \"Credit Card\").reduce((accumulator, a)=>{\n                    return parseFloat(a.amount) + accumulator\n                }, 0)),\n                profit: round2(d.filter(d => parseInt(d.user) === p.id).reduce((accumulator, a)=>{\n                    return parseFloat(a.amount) - parseFloat(a.amount_paid) + accumulator\n                }, 0))\n            }\n        })\n    }\n\n    const alldata = prepareAllUsersData(data);\n    const allUsersWire = alldata.reduce((acc, b)=> acc + b.wire, 0);\n    const allUsersCC = alldata.reduce((acc, b)=> acc + b.cc, 0);\n    const allUsersDeposits = allUsersWire + allUsersCC;\n    const singleUserData = prepareSingleUserData(selectedPartner);\n    const singleUserWire = singleUserData.reduce((acc, b)=> acc + b.wire, 0);\n    const singleUserCC = singleUserData.reduce((acc, b)=> acc + b.cc, 0);\n    const singleUserDeposits = singleUserWire + singleUserCC;\n    const due = users.filter(u => !u.is_staff).reduce((a, b) => a + parseFloat(b.partner_data.balance), 0);\n    const selectedPartnerName = (selectedPartner && admin) ? partnersDropdown.find(p=> p.key === selectedPartner).text : null;\n    const seletedPartnerBalance = (selectedPartner && admin) ? users.find(u => u.url === `http://api.chimera-finance.com/api/users/${selectedPartner}/`).balance : balance;\n\n    return(\n        <div id=\"dashboard\">\n            <Stack className=\"bar\" horizontal horizontalAlign=\"space-between\" tokens={{ childrenGap: 20 }} styles={{ root: { width: 960, padding: \"20px 0\" } }}>\n                <Stack horizontal horizontalAlign=\"auto\" tokens={{ childrenGap: 20 }} styles={{ root: { width: \"auto\" } }}>\n                    {admin ? <div className=\"combo\"><ComboBox autoComplete=\"on\" selectedKey={selectedPartner} options={partnersDropdown} placeholder=\"Partner...\" onChange={(e, e2) => setFilter('partner',e2.key)} style={{width: 140}} />{selectedPartner ? <span className=\"clear\" onClick={()=>setFilter('partner', null)}>Clear</span> : null}</div> : null}\n                    <DatePicker style={{width: 140}} formatDate={date => formatDate(date)} firstDayOfWeek={DayOfWeek.Monday} maxDate={toDate} placeholder=\"From date\" value={fromDate} onSelectDate={e=> {setFilter('fromDate',new Date(new Date(e).setHours(0,0,0,0))); setFilter('alltime', false)}}/>\n                    <DatePicker style={{width: 140}} formatDate={date => formatDate(date)} firstDayOfWeek={DayOfWeek.Monday} maxDate={new Date(new Date().setHours(23,59,59,0))} minDate={fromDate} placeholder=\"To date\" value={toDate} onSelectDate={e=> {setFilter('toDate',new Date(new Date(e).setHours(23,59,59,0)));setFilter('alltime', false)}}/>\n                    <Toggle inlineLabel label='Time limit' onText='All time' offText='Date range' checked={alltime} onChange={()=>setFilter('alltime', !alltime)}  />\n                </Stack>\n                <div className=\"balance\">\n                    <div className=\"txt\">{admin ? 'To pay: ' : 'Balance: '}</div>\n                    <Text variant=\"xLarge\"><AnimatedNumber duration={500} value={parseFloat(admin ? due : balance)} formatValue={(due) => numeral(parseFloat(due)).format(\"0,0.00 $\")} /></Text>\n                </div>\n            </Stack>\n            {selectedPartner ? <section className=\"userInfo\">\n                <AreaChart\n                    width={720}\n                    height={400}\n                    data={singleUserData}\n                >\n                    <CartesianGrid strokeDasharray=\"1 13\" />\n                    <XAxis dataKey=\"name\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Legend />\n                    <Area type=\"monotone\" dataKey=\"wire\" stackId=\"one\" stroke=\"#fce100\" fill=\"#fce100\" />\n                    <Area type=\"monotone\" dataKey=\"cc\" stackId=\"one\" stroke=\"#ffaa44\" fill=\"#ffaa44\" />\n                    {admin ? <Area type=\"monotone\" dataKey=\"profit\" stackId=\"one\" stroke=\"#82ca9d\" fill=\"darkgreen\" /> : null}\n                </AreaChart>\n                <div className=\"cyphers\">\n                    <table>\n                        <tbody>\n                            {admin ? <tr>\n                                <td>Partner: </td>\n                                <td><Text variant=\"xLarge\">{selectedPartnerName}</Text></td>\n                            </tr> : null}\n                            <tr>\n                                <td>Balance: </td>\n                                <td><Text variant=\"xLarge\"><AnimatedNumber duration={500} value={parseFloat(seletedPartnerBalance)} formatValue={val => numeral(parseFloat(val)).format(\"0,0.00 $\")} /></Text></td>\n                            </tr>\n                            <tr>\n                                <td>Deposits: </td>\n                                <td><Text variant=\"xLarge\"><AnimatedNumber duration={500} value={parseFloat(singleUserDeposits)} formatValue={val => numeral(parseFloat(val)).format(\"0,0.00 $\")} /></Text></td>\n                            </tr>\n                            <tr>\n                                <td>Wire: </td>\n                                <td><Text variant=\"medium\"><AnimatedNumber duration={500} value={parseFloat(singleUserWire)} formatValue={val => numeral(parseFloat(val)).format(\"0,0.00 $\")} /></Text></td>\n                            </tr>\n                            <tr>\n                                <td>Credit Card: </td>\n                                <td><Text variant=\"medium\"><AnimatedNumber duration={500} value={parseFloat(singleUserCC)} formatValue={val => numeral(parseFloat(val)).format(\"0,0.00 $\")} /></Text></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </section> : null}\n            {(admin && alldata.length) ? <section className=\"allInfo\">\n            <BarChart\n                    width={720}\n                    height={400}\n                    data={alldata}\n                >\n                    <CartesianGrid strokeDasharray=\"1 13\" />\n                    <XAxis dataKey=\"name\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Legend />\n                    <Bar dataKey=\"wire\" fill=\"#fce100\" />\n                    <Bar dataKey=\"cc\" fill=\"#ffaa44\" />\n                    <Bar dataKey=\"profit\" fill=\"darkgreen\" />\n                </BarChart>\n                <div className=\"cyphers\">\n                    <table>\n                        <tbody>\n                            <tr>\n                                <td>Deposits: </td>\n                                <td><Text variant=\"xLarge\"><AnimatedNumber duration={500} value={parseFloat(allUsersDeposits)} formatValue={val => numeral(parseFloat(val)).format(\"0,0.00 $\")} /></Text></td>\n                            </tr>\n                            <tr>\n                                <td>Wire: </td>\n                                <td><Text variant=\"medium\"><AnimatedNumber duration={500} value={parseFloat(allUsersWire)} formatValue={val => numeral(parseFloat(val)).format(\"0,0.00 $\")} /></Text></td>\n                            </tr>\n                            <tr>\n                                <td>Credit Card: </td>\n                                <td><Text variant=\"medium\"><AnimatedNumber duration={500} value={parseFloat(allUsersCC)} formatValue={val => numeral(parseFloat(val)).format(\"0,0.00 $\")} /></Text></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </section> : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        users: state.users.users,\n        balance: state.auth.balance,\n        admin: state.auth.admin,\n        partnerId: state.auth.id,\n        data: state.dashboard.data,\n        filters: state.dashboard.filters\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setFilter: (filter, value) => dispatch(setFilter(filter, value)),\n        getData: () => dispatch(getDashboardData())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);","import * as types from './actionTypes';\nimport axios from 'axios';\nimport {logout} from './authActions';\n\nexport const setFilter = (filter, value) => {\n    return {\n        type: types.DASHBOARD_SET_FILTER,\n        filter,\n        value\n    }\n}\n\nexport const getDashboardData = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const {fromDate, toDate, alltime} = state.dashboard.filters;\n        const {token} = state.auth;\n        const dateQ = alltime ? '' : `from=${new Date(fromDate).toLocaleDateString(\"it-IT\")}&to=${new Date(toDate).toLocaleDateString(\"it-IT\")}&`;\n        let q = `?${dateQ}`;\n        const bearer = 'Bearer ' + token;\n        axios.get(`https://api.chimera-finance.com/api/transactions/${q}`, { headers: { 'Authorization': bearer } }).then(res => {\n            dispatch({\n                type: types.DASHBOARD_GET_DATA,\n                data: res.data\n            })\n        }).catch(e => {\n            console.log(e)\n            if(e.response && e.response && e.response.status === 401){\n                dispatch(logout);\n            }\n        });         \n    }    \n}","import React, {useEffect} from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Dashboard from '../pjeset/Home/Dashboard';\nimport { selectMenu } from '../store/actions/systemActions';\nimport './Home.sass';\n\nfunction Home({selectMenu, token, balance}){\n    useEffect(()=>{selectMenu(\"0\");document.title = \"Chimera | Home\"}, [selectMenu]);\n\n    if(!token){return <Redirect to=\"/login\" />}\n    return(\n        <div id=\"home\">\n            <Dashboard />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.auth.token,\n        balance: state.auth.balance\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        selectMenu: menu => dispatch(selectMenu(menu))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import React, {useState, useEffect} from 'react';\nimport {useSpring, animated} from 'react-spring';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { login, resetPassword } from '../store/actions/authActions';\nimport { PrimaryButton } from 'office-ui-fabric-react/lib/Button';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { TooltipHost } from 'office-ui-fabric-react/lib/Tooltip';\nimport { Text } from 'office-ui-fabric-react/lib/Text';\nimport logourl from '../Chimera_01-01.svg'\nimport './Login.sass';\n\nfunction Login({login, forgot, error, token}){\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    useEffect(()=>{document.title = \"Chimera | Login\"}, [])\n\n    const props = useSpring({opacity: 1, from: {opacity: 0}})\n    \n    if(token){return <Redirect to=\"/\" />}\n\n    return(\n        <div id=\"login\">\n            <div className=\"logo\">\n                <img src={logourl} alt=\"logo file\"/><animated.div style={props}><span className=\"Chimera\">Chimera</span></animated.div>\n            </div>\n            <form>\n                <h3>Log in</h3>\n                <TextField name=\"admin_email\" type=\"email\" label=\"email\" placeholder=\"enter email\" onChange={({target}) => setEmail(target.value)} onKeyPress={({key}) => (key === \"Enter\") ? login(email, password) : null} />\n                <TextField name=\"admin_password\" label=\"Password\" type=\"password\" placeholder=\"enter password\" onChange={({target})=> setPassword(target.value)} onKeyPress={({key}) => (key === \"Enter\") ? login(email, password) : null} />\n                <TooltipHost className=\"forgot\" content={email ? \"\" : \"Please enter email\"} styles={{ root: { display: 'inline-block' } }}>\n                    <Text onClick={() => {\n                        if(email){\n                            return forgot(email);\n                        }else{\n                            return null\n                        }\n                    }}>Forgot password?</Text>\n                </TooltipHost>\n                <PrimaryButton className=\"login\" onClick={() => login(email, password)}>Log in</PrimaryButton>\n                <h6>{error && error.message}</h6>\n            </form>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.auth.token,\n        error: state.auth.error,\n        loading: state.auth.loading\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        login: (email, password) => dispatch(login(email, password)),\n        forgot: email => dispatch(resetPassword(email))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React, {useState, useEffect} from 'react';\nimport { connect } from 'react-redux';\nimport { Modal } from 'office-ui-fabric-react/lib/Modal';\nimport { Dialog, DialogType, DialogFooter } from 'office-ui-fabric-react/lib/Dialog';\nimport { DefaultButton, PrimaryButton, ActionButton } from 'office-ui-fabric-react';\nimport { Icon } from 'office-ui-fabric-react/lib/Icon';\nimport { Stack } from 'office-ui-fabric-react/lib/Stack';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { Text } from 'office-ui-fabric-react/lib/Text';\nimport { editUser, removeUser,toggleActive, endEdit } from '../../store/actions/usersActions';\nimport './EditUser.sass';\n\nfunction EditUser({editing, endEdit, username, email, Wrate, CCrate, balance, active, staff, url, save, remove, toggleActiveState}){\n    const [_username, setUsername] = useState(username);\n    const [_email, setEmail] = useState(email);\n    const [_balance, setBalance] = useState(balance);\n    const [_Wrate, setWRate] = useState(Wrate);\n    const [_CCrate, setCCRate] = useState(CCrate);\n    const [_active, setActive] = useState(active);\n    const [deleting, setDeleting] = useState(false);\n    useEffect(()=>{setActive(active)}, [active]);\n    const deActivateColorRoot = !_active ? \"green\" : \"brown\";\n    const deActivateColorRootHovered = !_active ? \"darkgreen\" : \"darkbrown\";\n    const deActivateColorRootPressed = !_active ? \"darkgreen\" : \"darkred\";\n    return(\n        <div>\n        <Modal isOpen={editing} onDismiss={endEdit} isModeless={true} dragOptions={{dragHandleSelector: '.head'}} containerClassName={\"editModal\"}>\n            <div className=\"head\"><Text>Edit user</Text><ActionButton style={{height: \"100%\"}} buttonType={5} onClick={()=>endEdit()}><Icon iconName=\"Cancel\" style={{color: \"white\"}}/></ActionButton></div>\n            <form>\n                <Stack>\n                    <Stack horizontal>\n                        <TextField label=\"Username\" name=\"username\" placeholder=\"username\" value={_username || \"\"} onChange={({target}) => setUsername(target.value)} />\n                        <TextField label=\"Email\" name=\"email\" placeholder=\"email\" value={_email} onChange={({target}) => setEmail(target.value)} /> \n                    </Stack>\n                    <Stack horizontal>\n                        <TextField type=\"number\" label=\"Balance\" name=\"balance\" placeholder=\"balance\" value={_balance || 0} onChange={({target}) => setBalance(target.value)} />\n                        <TextField type=\"number\" step={0.01} min={0} max={1} label=\"Wire Rate\" name=\"wire rate\" placeholder=\"rate\" value={_Wrate || undefined} onChange={({target}) => setWRate(target.value)} /> \n                        <TextField type=\"number\" step={0.01} min={0} max={1} label=\"Credit Card Rate\" name=\"credit card rate\" placeholder=\"rate\" value={_CCrate || undefined} onChange={({target}) => setCCRate(target.value)} /> \n                    </Stack>\n                    <Stack horizontal className=\"actions\">\n                        <DefaultButton className=\"cancel\" onClick={()=> endEdit()}text=\"Cancel\" />\n                        {!staff ? <DefaultButton\n                            className=\"delete\"\n                            styles={{root: {color: deActivateColorRoot, borderColor: deActivateColorRoot}, \n                                    rootHovered: {color: deActivateColorRootHovered, borderColor: deActivateColorRootHovered}, \n                                    rootPressed: {color: deActivateColorRootPressed, borderColor: deActivateColorRootPressed}}\n                                } \n                            onClick={() => toggleActiveState(url, !_active)}\n                            text={_active ? \"Deactivate\" : \"Activate\"}\n                            split={true}\n                            menuProps={{\n                                items: [\n                                  {\n                                    key: 'deleteUser',\n                                    text: 'Delete',\n                                    style: {color: 'red', marginRight: 0},\n                                    onClick: () => setDeleting(true),\n                                    styles: {root: {color: 'red'}, rootHovered: {color: 'red'}, rootPressed: {color: 'darkred'}},\n                                    iconProps: { iconName: 'Delete', color: 'red' }\n                                  }\n                                ]\n                              }} /> : null}\n                        <PrimaryButton \n                            className=\"save\"\n                            onClick={()=>save(url, _username, _email, {balance: _balance, Wrate: _Wrate, CCrate: _CCrate})} \n                            text=\"Save\" />\n                    </Stack>\n                </Stack>\n            </form>\n        </Modal>\n        <Dialog\n            hidden={!deleting}\n            onDismiss={() => setDeleting(false)}\n            dialogContentProps={{\n                type: DialogType.normal,\n                title: `Delete user ${username}?`,\n                subText: 'Warning! By deleting this user you will delete all his data, all his related transactions and the resulting profit from this user. Are you absolutely sure you want to delete this user?'\n            }}\n            modalProps={{\n                isBlocking: true,\n                styles: { main: { maxWidth: 450 } },\n                dragOptions: true\n            }}\n            >\n            <DialogFooter>\n                <PrimaryButton styles={{root:{backgroundColor: 'red'}, rootHovered:{backgroundColor: 'orangered'}, rootPressed:{backgroundColor: 'darkred'}, }} \n                    onClick={() => {remove(url); setDeleting(false)}} text=\"Delete\" />\n                <DefaultButton onClick={()=>setDeleting(false)} text=\"Cancel\" />\n            </DialogFooter>\n        </Dialog>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.auth.token\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        save: (url, username, email, is_active, is_staff, partner_data) => dispatch(editUser(url, username, email, is_active, is_staff, partner_data)),\n        toggleActiveState: (url, active) => dispatch(toggleActive(url, active)),\n        endEdit: () => dispatch(endEdit()),\n        remove: url => dispatch(removeUser(url))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditUser);","import React, {useState, useEffect} from 'react';\nimport { connect } from 'react-redux';\nimport { Modal } from 'office-ui-fabric-react/lib/Modal';\nimport { DefaultButton, PrimaryButton, ActionButton } from 'office-ui-fabric-react';\nimport { Icon } from 'office-ui-fabric-react/lib/Icon';\nimport { Stack } from 'office-ui-fabric-react/lib/Stack';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { Text } from 'office-ui-fabric-react/lib/Text';\nimport { addUser, endAdd } from '../../store/actions/usersActions';\nimport axios from 'axios';\nimport './AddUser.sass';\n\nfunction AddUser({adding, endAdd, add, users}){\n    const [username, setUsername] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password1, setPassword1] = useState(\"\");\n    const [password2, setPassword2] = useState(\"\");\n    const [balance, setBalance] = useState(0);\n    const [Wrate, setWRate] = useState(1);\n    const [CCrate, setCCRate] = useState(1);\n    const [isReady, setReady] = useState(false);\n    const [errors, setErrors] = useState({\n        email: '',\n        username: '',\n        password: '',\n        passwordMatch: ''\n    })\n\n    useEffect(()=> {\n        if(username && email && password1 && password2 && !errors.username && !errors.email && !errors.password && !errors.passwordMatch){\n            setReady(true)\n        }else{\n            setReady(false)\n        }\n    }, [username, email, password1, password2, errors])\n\n    function checkEmail(){\n        if(email){\n            const emails = users.map(u => u.email);\n            //var emailRegex = new RegExp('^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$')\n            emails.forEach(em =>{\n                if (em === email){\n                    setErrors({...errors, email: 'User with this email is already present'})\n                }\n            })\n            if(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\n                setErrors({...errors, email: ''})\n            }else{\n                setErrors({...errors, email: 'Email not valid'})\n            }\n        }else{\n            setErrors({...errors, email: ''})\n        }\n    }\n\n    function checkPassword(){\n        var mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})\");\n        if(password1){\n            if(mediumRegex.test(password1)){\n                setErrors({...errors, password: ''})\n            }else{\n                setErrors({...errors, password: 'Password not valid'})\n            }\n        }else{\n            setErrors({...errors, password: ''})\n        }\n    }\n\n    function checkPassword2(){\n        if(password2){\n            if(password1 === password2){\n                setErrors({...errors, passwordMatch: ''})\n            }else{\n                setErrors({...errors, passwordMatch: 'Passwords do not match'})\n            }\n        }else{\n            setErrors({...errors, passwordMatch: ''})\n        }\n    }\n\n    function checkUsername(){\n        var usernameRegex = new RegExp(\"^[A-Z]+$\", \"i\");\n        if(username){   \n            if(usernameRegex.test(username)){\n                setErrors({...errors, username: ''})\n            }else{\n                setErrors({...errors, username: 'Username should contain only letters'})\n            }\n            const usernames = users.map(u => u.username);\n            for(let us in usernames){\n                if (us === username){\n                    setErrors({...errors, username: 'User with this username is already present'})\n                }\n            }\n        }else{\n            setErrors({...errors, username: ''})\n        }\n    }\n\n    return(\n        <Modal isOpen={adding} onDismiss={endAdd} isModeless={true} dragOptions={{dragHandleSelector: '.head'}} containerClassName={\"editModal\"}>\n            <div className=\"head\"><Text>Add user</Text><ActionButton style={{height: \"100%\"}} buttonType={5} onClick={()=>endAdd()}><Icon iconName=\"Cancel\" style={{color: \"white\"}}/></ActionButton></div>\n            <form>\n                <Stack>\n                    <Stack horizontal>\n                        <TextField label=\"Email\" name=\"email\" placeholder=\"email\" errorMessage={errors.email} value={email} onChange={({target}) => setEmail(target.value)} onBlur={checkEmail} /> \n                        <TextField label=\"Username\" name=\"username\" placeholder=\"username\" errorMessage={errors.username} value={username} onChange={({target}) => setUsername(target.value)} onBlur={checkUsername} />\n                    </Stack>\n                    <Stack horizontal>\n                        <TextField type=\"password\" label=\"Password\" name=\"password1\" placeholder=\"password\" errorMessage={errors.password} value={password1} onChange={({target}) => setPassword1(target.value)} onBlur={checkPassword} />\n                        <TextField type=\"password\" label=\"Confirm Password\" name=\"password2\" placeholder=\"confirm password\" errorMessage={errors.passwordMatch} value={password2} onChange={({target}) => setPassword2(target.value)} onBlur={checkPassword2} /> \n                    </Stack>\n                    <Stack horizontal>\n                        <TextField type=\"number\" label=\"Balance\" name=\"balance\" placeholder=\"balance\" value={balance} onChange={({target}) => setBalance(target.value)} />\n                        <TextField type=\"number\" step={0.01} min={0} max={1} label=\"Wire Rate\" name=\"wire rate\" placeholder=\"rate\" value={Wrate} onChange={({target}) => setWRate(target.value)} /> \n                        <TextField type=\"number\" step={0.01} min={0} max={1} label=\"Credit Card Rate\" name=\"credit card rate\" placeholder=\"rate\" value={CCrate} onChange={({target}) => setCCRate(target.value)} /> \n                    </Stack>\n                    <Stack horizontal className=\"actions\">\n                        <DefaultButton className=\"cancel\" onClick={()=> endAdd()} text=\"Cancel\" />\n                        <PrimaryButton \n                            disabled={!isReady}\n                            className=\"add\"\n                            onClick={()=>add(username, email, password1, {balance, Wrate, CCrate})}\n                            text=\"Add\" />\n                    </Stack>\n                </Stack>\n            </form>\n        </Modal>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.auth.token,\n        users: state.users.users\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        add: (username, email, password1, password2, partner_data) => dispatch(addUser(username, email, password1, password2, partner_data)),\n        endAdd: () => dispatch(endAdd())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddUser);","import React, {useState, useEffect} from 'react';\nimport moment from 'moment';\nimport numeral from 'numeral';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { Fabric } from 'office-ui-fabric-react/lib/Fabric';\nimport { DetailsList, SelectionMode, DetailsRow } from 'office-ui-fabric-react/lib/DetailsList';\nimport { Stack } from 'office-ui-fabric-react/lib/Stack';\nimport { MarqueeSelection } from 'office-ui-fabric-react/lib/MarqueeSelection';\nimport { PrimaryButton } from 'office-ui-fabric-react';\nimport { Icon } from 'office-ui-fabric-react/lib/Icon';\nimport { ComboBox } from 'office-ui-fabric-react/lib/index';\nimport { selectMenu } from '../store/actions/systemActions';\nimport { setToken } from '../store/actions/authActions';\nimport { getAllUsers, beginEdit, beginAdd } from '../store/actions/usersActions';\nimport EditUser from '../pjeset/Users/EditUser';\nimport AddUser from '../pjeset/Users/AddUser';\nimport './Users.sass';\n\nnumeral.locale('al');\n\nfunction sortByKey(array, key, asc) {\n    return array.sort(function(a, b) {\n        var x = a[key]; var y = b[key];\n        return asc ? ((x < y) ? -1 : ((x > y) ? 1 : 0)) : ((x > y) ? -1 : ((x < y) ? 1 : 0));\n    });\n}\n\nfunction Users({getUsers, selectMenu, beginEdit, beginAdd, token, users, editing, editingThis, adding}){\n\n    const [sortkey, setSortkey] = useState(\"staff\");\n    const [ascending, setAscending] = useState(true);\n    const [searchStr, setSearchStr] = useState(\"\");\n    const [roleFilter, setRoleFilter] = useState(\"partner\");\n\n    useEffect(()=>{\n        getUsers()\n    }, [getUsers])\n\n    const columns = [\n        {\n            key: 'username',\n            name: 'Username',\n            fieldName: 'username',\n            minWidth: 60,\n            maxWidth: 80,\n            isSorted: sortkey === 'username',\n            isSortedDescending: ascending,\n            onColumnClick: onColumnClick,\n            data: 'string',\n            isPadded: true\n        },\n        {\n            key: 'email',\n            name: 'Email',\n            fieldName: 'email',\n            minWidth: 150,\n            maxWidth: 200,\n            isSorted: sortkey === 'email',\n            isSortedDescending: ascending,\n            onColumnClick: onColumnClick,\n            data: 'string',\n            isPadded: true\n        },\n        {\n            key: 'password',\n            name: 'Password',\n            fieldName: 'password',\n            minWidth: 120,\n            maxWidth: 140,\n            isSorted: sortkey === 'password',\n            isSortedDescending: ascending,\n            onColumnClick: onColumnClick,\n            data: 'date',\n            isPadded: true\n        },\n        {\n            key: 'last_login',\n            name: 'Last login',\n            fieldName: 'last_login',\n            minWidth: 100,\n            maxWidth: 120,\n            isSorted: sortkey === 'last_login',\n            isSortedDescending: ascending,\n            onColumnClick: onColumnClick,\n            data: 'date',\n            isPadded: true\n        },\n        {\n            key: 'balance',\n            name: 'Balance',\n            fieldName: 'balance',\n            minWidth: 100,\n            maxWidth: 150,\n            isSorted: sortkey === 'balance',\n            isSortedDescending: ascending,\n            onColumnClick: onColumnClick,\n            data: 'number',\n            isPadded: true\n        },\n        {\n            key: 'Wrate',\n            name: 'Wire Rate',\n            fieldName: 'Wrate',\n            minWidth: 40,\n            maxWidth: 150,\n            isSorted: sortkey === 'Wrate',\n            isSortedDescending: ascending,\n            onColumnClick: onColumnClick,\n            data: 'number',\n            isPadded: true\n        },\n        {\n            key: 'CCrate',\n            name: 'Credit Card Rate',\n            fieldName: 'CCrate',\n            minWidth: 40,\n            maxWidth: 150,\n            isSorted: sortkey === 'CCrate',\n            isSortedDescending: ascending,\n            onColumnClick: onColumnClick,\n            data: 'number',\n            isPadded: true\n        },\n        {\n            key: 'is_active',\n            name: 'Active',\n            fieldName: 'active',\n            minWidth: 60,\n            maxWidth: 100,\n            onColumnClick: onColumnClick,\n            isPadded: false\n        }\n    ];\n\n    const data = sortByKey(users.map(user => {\n        return {\n            email: user.email,\n            last_login: moment(new Date(user.last_login)).fromNow().replace(\"50 years ago\", 'never'),\n            date_joined: moment(new Date(user.date_joined)).fromNow(),\n            username: user.username,\n            password: user.password,\n            balance: parseFloat(user.partner_data.balance),\n            Wrate: user.partner_data.Wrate,\n            CCrate: user.partner_data.CCrate,\n            active: user.is_active,\n            staff: user.is_staff,\n            url: user.url\n        }\n    }), sortkey, ascending).filter(u => {\n        return (u.email.indexOf(searchStr) !== -1) || (u.username.indexOf(searchStr) !== -1)\n    }).filter(u => {\n        switch(roleFilter){\n            case \"partner\": return !u.staff;\n            case \"admin\": return u.staff;\n            default: return true;\n        }\n    })\n\n    useEffect(()=>{\n        selectMenu(\"1\");\n        document.title = \"Chimera | Users\"\n    }, [getUsers, selectMenu])\n\n    function onItemInvoked({email}){\n        beginEdit(email);\n    }\n    function onColumnClick(_e, {key}){\n        setSortkey(key);\n        setAscending(true)\n        if(key === sortkey){setAscending(!ascending)}\n    }\n    function onRenderItemColumn(item, index, column){\n        const fieldContent = item[column.fieldName];\n        switch (column.key) {\n            case 'is_active':\n                return fieldContent ? <Icon iconName=\"StatusCircleInner\" styles={{root: {marginLeft: '14px'}}} /> : null;\n            case 'balance':\n                return numeral(fieldContent).format('0,0.00 $')\n            default:\n              return <span>{fieldContent}</span>;\n          }\n    }\n    function onRenderRow(props){\n        return <DetailsRow {...props} styles={{root: {backgroundColor: props.item.staff ? \"lightblue\" : \"white\", fontSize: '1.1em'}}} />\n    }\n    \n    let editData;\n    editData = data.filter(user => {\n        return user.email === editingThis\n    })[0]\n    const roles = [\n        { key: 'admin', text: 'Admin' },\n        { key: 'partner', text: 'Partner' },\n    ];\n        \n    if(!token){\n        return <Redirect to=\"/login\" />\n    }\n    return(\n        <div id=\"users\">\n            <Fabric>\n                <Stack horizontal horizontalAlign=\"space-between\" tokens={{ childrenGap: 20 }} styles={{ root: { width: 960, padding: \"20px 0\" } }}>\n                    <Stack horizontal horizontalAlign=\"auto\" tokens={{ childrenGap: 20 }} styles={{ root: { width: \"auto\" } }}>\n                        <TextField style={{width: 300}} type=\"text\" value={searchStr} placeholder=\"Filter by username or email...\" onChange={({target}) => setSearchStr(target.value)} />\n                        <ComboBox style={{width: 150}} options={roles} selectedKey={roleFilter} placeholder=\"Filter by role...\" onChange={(e, {key})=> setRoleFilter(key)} />\n                    </Stack>\n                    <PrimaryButton\n                        allowDisabledFocus={true}\n                        disabled={adding}\n                        checked={false}\n                        text=\"New user\"\n                        onClick={()=>beginAdd()}\n                        iconProps={{iconName: \"Add\"}}\n                        align=\"end\"\n                        styles={{root: {\n                            justifySelf: 'flex-end'\n                        }}}\n                    />\n                </Stack>\n                <MarqueeSelection>\n                    <DetailsList\n                        className=\"table\"\n                        maxWidth={960}\n                        items={data}\n                        compact={false}\n                        columns={columns}\n                        selectionMode={SelectionMode.none}\n                        isHeaderVisible={true}\n                        onItemInvoked={onItemInvoked}\n                        checkboxVisibility={2}\n                        onRenderItemColumn={onRenderItemColumn}\n                        onRenderRow={onRenderRow}\n                    />\n                </MarqueeSelection>\n            </Fabric>\n            {editing ? <EditUser editing={editing} {...editData} /> : null}\n            {adding ? <AddUser adding={adding} /> : null}\n        </div>\n    )\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        token: state.auth.token,\n        users: state.users.users,\n        editing: state.users.editing,\n        editingThis: state.users.editingThis,\n        adding: state.users.adding\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        selectMenu: menu => dispatch(selectMenu(menu)),\n        setToken: token => dispatch(setToken(token)),\n        getUsers: () => dispatch(getAllUsers()),\n        beginEdit: email => dispatch(beginEdit(email)),\n        beginAdd: () => dispatch(beginAdd())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Users);","import React, {useState, useEffect} from 'react';\nimport numeral from 'numeral';\nimport { connect } from 'react-redux';\nimport { Modal } from 'office-ui-fabric-react/lib/Modal';\nimport { DefaultButton, PrimaryButton, ActionButton } from 'office-ui-fabric-react';\nimport { ComboBox } from 'office-ui-fabric-react/lib/index';\nimport { Icon } from 'office-ui-fabric-react/lib/Icon';\nimport { Stack } from 'office-ui-fabric-react/lib/Stack';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { Text } from 'office-ui-fabric-react/lib/Text';\nimport { addTransaction, endAdd } from '../../store/actions/transactionsActions';\nimport './AddTransaction.sass';\n\nnumeral.locale('al');\n\nfunction AddTransaction({adding, endAdd, add, users}){\n    const [type, setType] = useState(\"\");\n    const [client, setClient] = useState(\"\");\n    const [amount, setAmount] = useState(0);\n    const [amount_paid, setAmountpaid] = useState(0);\n    const [partner, setPartner] = useState(\"\");\n    const [currentPartner, setCurrentPartner] = useState({partner_data: {rate: 1}});\n    const [rate, setRate] = useState(1);\n    const [sign, setSign] = useState(1);\n    const [ready, setReady] = useState(false);\n    \n    useEffect(()=>{\n        switch(type){\n            case \"Wire\": setRate(parseFloat(currentPartner.partner_data.Wrate).toPrecision(2)); break;\n            case \"Credit Card\": setRate(parseFloat(currentPartner.partner_data.CCrate).toPrecision(2)); break;\n            case \"Withdraw\": setRate(parseFloat(currentPartner.partner_data.Wrate).toPrecision(2));break;\n            case \"Payment\": setRate(1) ;break;\n            default: setRate(1);break;\n        }\n    }, [currentPartner, type]);\n\n    useEffect(()=>{\n        setAmount(Math.abs(amount) * sign);\n    }, [sign, type, amount]);\n\n    useEffect(()=>{\n        setAmountpaid(Math.round( (amount * rate) * 100 + Number.EPSILON ) / 100);\n    }, [amount, rate]);\n\n    useEffect(()=>{\n        let clientOK = false;\n        if(type===\"Payment\"){\n            setClient(\"\");\n        }\n        if(type===\"Payment\" || client !== \"\"){\n            clientOK = true;\n        }\n        if(type !== \"\" && amount !== 0 && partner !== \"\" && clientOK){\n            setReady(true)\n        }else{\n            setReady(false)\n        }\n    }, [type, amount, partner, client]);\n\n    useEffect(()=> {\n        setTheSign(type)\n    },[type])\n\n    const transaction_types = [\n        { key: 'Wire', text: 'Wire' },\n        { key: 'Credit Card', text: 'Credit Card' },\n        { key: 'Withdraw', text: 'Withdraw' },\n        { key: 'Payment', text: 'Payment' }\n    ];\n\n    const partners = users.filter(u => (!u.is_staff && u.is_active)).map(u=>{\n        const urlArray = u.url.split(\"/\");\n        return {\n            key: urlArray[urlArray.length - 2],\n            text: u.username\n        }\n    })\n\n    function selectPartner(e, {key}){\n        setPartner(key);\n        const url = `http://api.chimera-finance.com/api/users/${key}/`;\n        setCurrentPartner(users.filter(u=>u.url === url)[0]);\n    }\n\n    function setTheSign(type){\n        switch(type){\n            case \"Wire\": setSign(1); break;\n            case \"Credit Card\": setSign(1); break;\n            case \"Withdraw\": setSign(-1);break;\n            case \"Payment\": setSign(-1) ;break;\n            default: setSign(1);break;\n        }\n    }\n\n    function setAmountField({target}){\n        setTheSign(type);\n        if(target.value){\n            setAmount(sign * Math.abs(parseFloat(target.value)))\n        }else{\n            setAmount(0)\n        }\n    }\n\n    let color = 'white'\n\n    switch(type){\n        case 'Wire': color = '#fce100'; break;\n        case 'Credit Card': color = '#ffaa44'; break;\n        case 'Withdraw': color = '#da3b01'; break;\n        case 'Payment': color = '#00b7c3'; break;\n        default: color = 'white'; break;\n    }\n\n    const showCalculations = (type && type !== \"Payment\" && partner)\n\n    return(\n        <Modal isOpen={adding} onDismiss={endAdd} isModeless={true} dragOptions={{dragHandleSelector: '.head'}} containerClassName={\"transactionModal\"}>\n            <div className=\"head\"><Text>Add transaction</Text><ActionButton style={{height: \"100%\"}} buttonType={5} onClick={()=>endAdd()}><Icon iconName=\"Cancel\" style={{color: \"white\"}}/></ActionButton></div>\n            <form style={{borderLeft: `4px solid ${color}`}}>\n                <Stack>\n                    <Stack horizontal className=\"row1\">\n                        <ComboBox label=\"Type of transaction\" autoComplete=\"on\" selectedKey={type} options={transaction_types} placeholder=\"Type...\" onChange={(e, {key}) => setType(key)} />\n                        <ComboBox label=\"Partner name\" autoComplete=\"on\" allowFreeform selectedKey={partner} options={partners} placeholder=\"Partner...\" onChange={selectPartner} />\n                    </Stack>\n                    <Stack horizontal className=\"row2\">\n                        <TextField disabled={type === \"Payment\"} name=\"client\" label=\"Client name\" placeholder=\"client\" value={client} onChange={({target}) => setClient(target.value)} /> \n                        <TextField type=\"number\" step={1} name=\"amount\" label=\"Amount\" placeholder=\"amount\" value={amount} onChange={setAmountField} />\n                    </Stack>\n                    <Stack horizontal className=\"row3\">\n                        <Text className=\"calc\" styles={{root: {visibility: showCalculations ? 'visible' : 'hidden'}}} variant=\"xLarge\">{`${numeral(amount).format(\"0,0.00\")} x ${rate} =`}</Text>\n                        <div className=\"partnerAmount\">\n                            <label htmlFor=\"partner_amount\"><Text variant=\"medium\">Partner amount</Text></label>\n                            <Text className=\"amount\" name=\"partner_amount\" variant=\"xLarge\">{numeral(amount_paid).format('0,0.00 $')}</Text>\n                        </div>\n                    </Stack>\n                    <Stack horizontal className=\"actions\">\n                        <DefaultButton className=\"cancel\" onClick={()=> endAdd()} text=\"Cancel\" />\n                        <PrimaryButton \n                            className=\"add\"\n                            disabled={!ready}\n                            onClick={()=>add(type, client, amount, amount_paid, rate, partner)}\n                            text=\"Add\" />\n                    </Stack>\n                </Stack>\n            </form>\n        </Modal>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.auth.token,\n        users: state.users.users\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        add: (type, client, amount, amount_paid, rate, partner) => dispatch(addTransaction(type, client, amount, amount_paid, rate, partner)),\n        endAdd: () => dispatch(endAdd())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddTransaction);","import React, {useState, useEffect} from 'react';\nimport numeral from 'numeral';\nimport { connect } from 'react-redux';\nimport { Modal } from 'office-ui-fabric-react/lib/Modal';\nimport { DefaultButton, PrimaryButton, ActionButton } from 'office-ui-fabric-react';\nimport { ComboBox } from 'office-ui-fabric-react/lib/index';\nimport { Icon } from 'office-ui-fabric-react/lib/Icon';\nimport { Stack } from 'office-ui-fabric-react/lib/Stack';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { Text } from 'office-ui-fabric-react/lib/Text';\nimport { editTransaction, endEdit } from '../../store/actions/transactionsActions';\nimport './EditTransaction.sass';\n\nnumeral.locale('al');\n\nfunction EditTransaction({editing, endEdit, edit, users, data}){\n\n    const [type, setType] = useState(data.transaction_type);\n    const [client, setClient] = useState(data.client_name);\n    const [amount, setAmount] = useState(parseFloat(data.amount));\n    const [amount_paid, setAmountpaid] = useState(parseFloat(data.amount_paid));\n    const [partner, setPartner] = useState(data.user);\n    const [currentPartner, setCurrentPartner] = useState({partner_data: {rate: 1}});\n    const [rate, setRate] = useState(currentPartner.partner_data.rate)\n    const [sign, setSign] = useState(1);\n    const [ready, setReady] = useState(false);\n    \n    useEffect(()=>{\n        switch(type){\n            case \"Wire\": setRate(parseFloat(currentPartner.partner_data.rate).toPrecision(2)); break;\n            case \"Credit Card\": setRate(parseFloat(currentPartner.partner_data.rate).toPrecision(2)); break;\n            case \"Withdraw\": setRate(parseFloat(currentPartner.partner_data.rate).toPrecision(2));break;\n            case \"Payment\": setRate(1) ;break;\n            default: setRate(parseFloat(currentPartner.partner_data.rate).toPrecision(2));break;\n        }\n    }, [currentPartner, type]);\n\n    useEffect(()=>{\n        setAmount(Math.abs(amount) * sign);\n    }, [sign, type, amount]);\n\n    useEffect(()=>{\n        setAmountpaid(Math.round( (amount * rate) * 100 + Number.EPSILON ) / 100);\n    }, [amount, rate]);\n\n    useEffect(()=>{\n        let clientOK = false;\n        if(type===\"Payment\"){\n            setClient(\"\");\n        }\n        if(type===\"Payment\" || client !== \"\"){\n            clientOK = true;\n        }\n        if(type !== \"\" && amount !== 0 && partner !== \"\" && clientOK){\n            setReady(true)\n        }else{\n            setReady(false)\n        }\n    }, [type, amount, partner, client]);\n\n    useEffect(()=> {\n        setTheSign(type)\n    },[type])\n\n    const transaction_types = [\n        { key: 'Wire', text: 'Wire' },\n        { key: 'Credit Card', text: 'Credit Card' },\n        { key: 'Withdraw', text: 'Withdraw' },\n        { key: 'Payment', text: 'Payment' }\n    ];\n\n    const partners = users.filter(u => (!u.is_staff && u.is_active)).map(u=>{\n        const urlArray = u.url.split(\"/\");\n        return {\n            key: urlArray[urlArray.length - 2],\n            text: u.username\n        }\n    })\n\n    function selectPartner(e, {key}){\n        setPartner(key);\n        const url = `http://api.chimera-finance.com/api/users/${key}/`;\n        setCurrentPartner(users.filter(u=>u.url === url)[0]);\n    }\n\n    function setTheSign(type){\n        switch(type){\n            case \"Wire\": setSign(1); break;\n            case \"Credit Card\": setSign(1); break;\n            case \"Withdraw\": setSign(-1);break;\n            case \"Payment\": setSign(-1) ;break;\n            default: setSign(1);break;\n        }\n    }\n\n    function setAmountField({target}){\n        setTheSign(type);\n        if(target.value){\n            setAmount(sign * Math.abs(parseFloat(target.value)))\n        }else{\n            setAmount(0)\n        }\n    }\n\n    return(\n        <Modal isOpen={editing} onDismiss={endEdit} isModeless={true} dragOptions={{dragHandleSelector: '.head'}} containerClassName={\"transactionModal\"}>\n            <div className=\"head\"><Text>Edit transaction</Text><ActionButton style={{height: \"100%\"}} buttonType={5} onClick={()=>endEdit()}><Icon iconName=\"Cancel\" style={{color: \"white\"}}/></ActionButton></div>\n            <form>\n                <Stack>\n                    <Stack horizontal className=\"row1\">\n                        <ComboBox label=\"Type of transaction\" autoComplete=\"on\" selectedKey={type} options={transaction_types} placeholder=\"Type...\" onChange={(e, {key}) => setType(key)} />\n                        <ComboBox label=\"Partner name\" autoComplete=\"on\" allowFreeform selectedKey={partner} options={partners} placeholder=\"Partner...\" onChange={selectPartner} />\n                    </Stack>\n                    <Stack horizontal className=\"row2\">\n                        <TextField disabled={type === \"Payment\"} name=\"client\" label=\"Client name\" placeholder=\"client\" value={client} onChange={({target}) => setClient(target.value)} /> \n                        <TextField type=\"number\" step={1} name=\"amount\" label=\"Amount\" placeholder=\"amount\" value={amount} onChange={setAmountField} />\n                    </Stack>\n                    <Stack horizontal className=\"row3\">\n                        <Text className=\"calc\" variant=\"xLarge\">{`${numeral(amount).format(\"0,0.00\")} x ${rate} =`}</Text>\n                        <div className=\"partnerAmount\">\n                            <label htmlFor=\"partner_amount\"><Text variant=\"medium\">Partner amount</Text></label>\n                            <Text className=\"amount\" name=\"partner_amount\" variant=\"xLarge\">{numeral(amount_paid).format('0,0.00 $')}</Text>\n                        </div>\n                    </Stack>\n                    <Stack horizontal className=\"actions\">\n                        <DefaultButton className=\"cancel\" onClick={()=> endEdit()} text=\"Cancel\" />\n                        <PrimaryButton \n                            className=\"edit\"\n                            disabled={!ready}\n                            onClick={()=>edit(type, client, amount, amount_paid, rate, partner)}\n                            text=\"Save\" />\n                    </Stack>\n                </Stack>\n            </form>\n        </Modal>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.auth.token,\n        users: state.users.users\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        edit: (type, client, amount, amount_paid, rate, partner) => dispatch(editTransaction(type, client, amount, amount_paid, rate, partner)),\n        endEdit: () => dispatch(endEdit())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditTransaction);","import React, {useState, useEffect} from 'react';\nimport moment from 'moment';\nimport numeral from 'numeral';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { Text } from 'office-ui-fabric-react/lib/Text';\nimport { Fabric } from 'office-ui-fabric-react/lib/Fabric';\nimport { DetailsList, SelectionMode, DetailsListLayoutMode, DetailsRow, DetailsRowBase } from 'office-ui-fabric-react/lib/DetailsList';\nimport { Dialog, DialogType, DialogFooter } from 'office-ui-fabric-react/lib/Dialog';\nimport { DatePicker, DayOfWeek } from 'office-ui-fabric-react';\nimport { Stack } from 'office-ui-fabric-react/lib/Stack';\nimport { MarqueeSelection } from 'office-ui-fabric-react/lib/MarqueeSelection';\nimport { PrimaryButton, IconButton, DefaultButton } from 'office-ui-fabric-react';\nimport { Dropdown, DropdownMenuItemType } from 'office-ui-fabric-react/lib/Dropdown';\nimport { CSVLink } from \"react-csv\";\nimport { selectMenu } from '../store/actions/systemActions';\nimport { setToken } from '../store/actions/authActions';\nimport { formatDate } from '../useful';\nimport { beginEdit, beginAdd, removeTransaction, getAllTransactions, setTransactionsFilter, setAllPartnersSelected, setAllTypesSelected } from '../store/actions/transactionsActions';\nimport AddTransaction from '../pjeset/Transactions/AddTransaction';\nimport EditTransaction from '../pjeset/Transactions/EditTransaction';\nimport './Transactions.sass';\n\nnumeral.locale('al');\n\nfunction Transactions ({selectMenu, beginAdd, beginEdit, token, users, admin, balance, adding, editing, editData, transactions, remove, getTransactions, setFilter, filters, allPartners, allTypes}){\n\n    const [deleting, setDeleting] = useState(false);\n    const [deletingID, setDeletingID] = useState(0);\n    \n    let {client, partners, types, fromDate, toDate} = filters;\n\n    fromDate = new Date(fromDate);\n    toDate = new Date(toDate);\n\n    useEffect(()=> {\n        if(!partners.length){\n            setFilter('partners', users.filter(u=> !u.is_staff).map(u => {\n                const urlArray = u.url.split(\"/\");\n                const key = urlArray[urlArray.length - 2];\n                return key\n            }));\n        }\n        if(!types.length){\n            setFilter('types', ['Wire', 'Credit Card', 'Withdraw', 'Payment']);\n        }\n    }, [setFilter, users])\n\n    const partnersDropdown = users.filter(u => !u.is_staff).map(u=>{\n        const urlArray = u.url.split(\"/\");\n        const key = urlArray[urlArray.length - 2];\n        return {\n            key,\n            text: u.username,\n            selected: partners.includes(key)\n        }\n    });\n\n    const typesDropdown = [\n        { key: 'Wire', text: 'Wire', selected: types.includes('Wire') },\n        { key: 'Credit Card', text: 'Credit Card', selected: types.includes('Credit Card') },\n        { key: 'Withdraw', text: 'Withdraw', selected: types.includes('Withdraw') },\n        { key: 'Payment', text: 'Payment', selected: types.includes('Payment') }\n    ];\n    \n    useEffect(()=>{\n        document.title = \"Chimera | Transactions\"; \n        selectMenu(admin ? \"2\" : \"3\");\n        getTransactions();\n    }, [selectMenu, getTransactions, admin]);\n    \n    const columns = [\n        {\n            key: 'id',\n            name: 'ID',\n            fieldName: 'id',\n            minWidth: 17,\n            maxWidth: 17,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'transaction_type',\n            name: 'Type',\n            fieldName: 'transaction_type',\n            minWidth: 70,\n            maxWidth: 90,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'client',\n            name: 'Client name',\n            fieldName: 'client',\n            minWidth: 110,\n            maxWidth: 180,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'partner',\n            name: 'Partner',\n            fieldName: 'partner',\n            minWidth: 70,\n            maxWidth: 80,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'amount',\n            name: 'Amount',\n            fieldName: 'amount',\n            minWidth: 70,\n            maxWidth: 90,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'rate',\n            name: 'Rate',\n            fieldName: 'rate',\n            minWidth: 30,\n            maxWidth: 50,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'amount_paid',\n            name: 'Partner amount',\n            fieldName: 'amount_paid',\n            minWidth: 70,\n            maxWidth: 90,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'created_at',\n            name: 'Created at',\n            fieldName: 'created_at',\n            minWidth: 110,\n            maxWidth: 110,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'delete',\n            name: 'Delete',\n            minWidth: 45,\n            maxWidth: 55,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true,\n            onRender: (item) => {\n                return <IconButton onClick={() => { setDeleting(true); setDeletingID(item.id) }} styles={{root:{height: '15px', marginLeft: '7px', color: '#ccc'}, rootHovered: {color: 'red'}, rootPressed: {color: 'darkred'}}} iconProps={{iconName: \"Delete\"}} />\n            }\n        }\n    ];\n\n    const partnerColumns = [\n        {\n            key: 'id',\n            name: 'ID',\n            fieldName: 'id',\n            minWidth: 20,\n            maxWidth: 30,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'transaction_type',\n            name: 'Type',\n            fieldName: 'transaction_type',\n            minWidth: 60,\n            maxWidth: 100,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'client',\n            name: 'Client name',\n            fieldName: 'client',\n            minWidth: 120,\n            maxWidth: 140,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'amount',\n            name: 'Amount',\n            fieldName: 'amount',\n            minWidth: 50,\n            maxWidth: 60,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'amount_paid',\n            name: 'My amount',\n            fieldName: 'amount_paid',\n            minWidth: 60,\n            maxWidth: 80,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        },\n        {\n            key: 'created_at',\n            name: 'Created at',\n            fieldName: 'created_at',\n            minWidth: 130,\n            maxWidth: 150,\n            isRowHeader: false,\n            isSorted: false,\n            isSortedDescending: false,\n            onColumnClick: _onColumnClick,\n            data: 'string',\n            isPadded: true,\n            isResizable: true\n        }\n    ];\n\n    function _onColumnClick(){}\n\n    function renderRow(row){\n        let color;\n        switch(row.item.transaction_type){\n            case 'Wire': color = '#fce100'; break;\n            case 'Credit Card': color = '#ffaa44'; break;\n            case 'Withdraw': color = '#da3b01'; break;\n            case 'Payment': color = '#00b7c3'; row.item.amount = ''; row.item.rate = ''; break;\n            default: color = 'white'; break;\n        }\n        return <DetailsRow {...row} styles={{root: {borderLeft: `4px solid ${color}`, fontSize: '1.1em'}}} />\n    }\n\n    function renderItemColumn(item, index, column){\n        if(column.key === 'amount' || column.key === 'amount_paid'){\n            return <div style={{textAlign: 'right'}}>{item[column.key]}</div>\n        }else if(column.key === 'id' || column.key === 'created_at'){\n            return <div style={{fontSize: '1em'}}>{item[column.key]}</div>\n        }else{\n            return item[column.key]\n        }\n    }\n\n    function editTransaction({id}){\n        // beginEdit(id)\n    }\n\n    let data = []\n    \n    data = transactions.map(t => {\n        return {\n            id: t.id,\n            transaction_type: t.transaction_type,\n            client: t.client_name,\n            amount: numeral(parseFloat(t.amount)).format('0,0.00 $'),\n            rate: numeral(parseFloat(t.rate)).format('0 %'),\n            partner: admin ? users.filter(u => u.url === `http://api.chimera-finance.com/api/users/${t.user}/`)[0].username : null,\n            amount_paid: numeral(parseFloat(t.amount_paid)).format('0,0.00 $'),\n            created_at: moment(new Date(t.entry_time)).format(\"DD/MM/YYYY hh:mm:ss\"),\n        }\n    });\n\n    const CSVheaders = [\n        { label: \"ID\", key: \"id\" },\n        { label: \"Type\", key: \"transaction_type\" },\n        { label: \"Client Name\", key: \"client\" },\n        { label: \"Parner Name\", key: \"partner\" },\n        { label: \"Amount\", key: \"amount\" },\n        { label: \"Partner Amount\", key: \"amount_paid\" },\n        { label: \"Date\", key: \"created_at\" }\n      ];\n\n    function changeSelectedPartners(e, e2){\n        const p = partnersDropdown.map(type => {\n            if(type.key === e2.key){\n                return e2\n            }else{\n                return type\n            }\n        });\n        allPartners(p.every(p=>p.selected));\n        setFilter('partners', p.filter(p => p.selected).map(p=> p.key));\n    }\n\n    function changeSelectedTypes(e, e2){\n        const t = typesDropdown.map(type => {\n            if(type.key === e2.key){\n                return e2\n            }else{\n                return type\n            }\n        })\n        allTypes(t.every(t=>t.selected));\n        setFilter('types', t.filter(t => t.selected).map(t=> t.key));\n    }\n\n    if(!token){return <Redirect to=\"/login\" />}\n    return(\n        <div id=\"transactions\">\n            <Fabric>\n                <Stack horizontal horizontalAlign=\"space-between\" tokens={{ childrenGap: 20 }} styles={{ root: { width: 960, padding: \"20px 0\" } }}>\n                    <Stack horizontal horizontalAlign=\"auto\" tokens={{ childrenGap: 20 }} styles={{ root: { width: \"auto\" } }}>\n                        <Dropdown\n                            placeholder=\"Type\"\n                            selectedKeys={types}\n                            onChange={changeSelectedTypes}\n                            multiSelect\n                            options={[{ key: 'typesHeader', text: 'Types', itemType: DropdownMenuItemType.Header },...typesDropdown]}\n                            style={{width: 120, textAlign: 'left'}}\n                        />\n                        <TextField style={{width: 150}} type=\"text\" value={client} placeholder=\"Client name...\" onChange={({target}) => setFilter('client',target.value.toLowerCase())} />\n                        {admin ? <Dropdown\n                            placeholder=\"Filter by partner\"\n                            selectedKeys={partners}\n                            onChange={changeSelectedPartners}\n                            multiSelect\n                            options={[{ key: 'partnersHeader', text: 'Partners', itemType: DropdownMenuItemType.Header },...partnersDropdown]}\n                            style={{width: 140, textAlign: 'left'}}\n                        /> : null}\n                        <DatePicker style={{width: 140}} formatDate={date => formatDate(date)} firstDayOfWeek={DayOfWeek.Monday} maxDate={toDate} placeholder=\"From date\" value={fromDate} onSelectDate={e=> setFilter('fromDate',new Date(new Date(e).setHours(0,0,0,0)))}/>\n                        <DatePicker style={{width: 140}} formatDate={date => formatDate(date)} firstDayOfWeek={DayOfWeek.Monday} maxDate={new Date(new Date().setHours(23,59,59,0))} minDate={fromDate} placeholder=\"To date\" value={toDate} onSelectDate={e=> setFilter('toDate',new Date(new Date(e).setHours(23,59,59,0)))}/>\n                    </Stack>\n                    {admin ? <PrimaryButton\n                        allowDisabledFocus={true}\n                        disabled={adding}\n                        checked={false}\n                        text=\"New transaction\"\n                        onClick={()=>beginAdd()}\n                        iconProps={{iconName: \"Add\"}}\n                        align=\"end\"\n                        styles={{root: {\n                            justifySelf: 'flex-end'\n                        }}}\n                    /> : null}\n                </Stack>\n                <MarqueeSelection>\n                    <DetailsList\n                        className=\"table\"\n                        maxWidth={admin ? 960 : 720}\n                        height={'70%'}\n                        items={data}\n                        compact={false}\n                        columns={admin ? columns : partnerColumns}\n                        onItemInvoked={editTransaction}\n                        enableShimmer={!data}\n                        isHeaderVisible={true}\n                        checkboxVisibility={2}\n                        selectionMode={SelectionMode.multiple}\n                        layoutMode={DetailsListLayoutMode.justified}\n                        onRenderItemColumn={renderItemColumn}\n                        onRenderRow={renderRow}\n                    />\n                </MarqueeSelection>\n            </Fabric>\n            {adding ? <AddTransaction adding={adding} /> : null}\n            {editing ? <EditTransaction data={editData} editing={editing} /> : null}\n            <Dialog\n                hidden={!deleting}\n                onDismiss={() => setDeleting(false)}\n                dialogContentProps={{\n                    type: DialogType.normal,\n                    title: 'Delete transaction?',\n                    subText: 'Do you really want do delete this transaction?'\n                }}\n                modalProps={{\n                    isBlocking: true,\n                    styles: { main: { maxWidth: 450 } },\n                    dragOptions: true\n                }}\n                >\n                <DialogFooter>\n                    <PrimaryButton styles={{root:{backgroundColor: 'red'}, rootHovered:{backgroundColor: 'orangered'}, rootPressed:{backgroundColor: 'darkred'}, }} \n                        onClick={() => {remove(deletingID); setDeleting(false)}} text=\"Delete\" />\n                    <DefaultButton onClick={()=>setDeleting(false)} text=\"Cancel\" />\n                </DialogFooter>\n            </Dialog>\n            <div className=\"bottom\">\n                <div className=\"data\">\n                    <Text variant=\"small\" >{transactions.length || 'No'} transaction{transactions.length !== 1 ? 's' : ''}</Text>\n                </div>\n                {transactions.length ? <DefaultButton iconProps={{iconName: 'Download'}}><CSVLink filename={`transactions_report_${moment(new Date()).format('DD_MM_YYYY_hh_mm_ss')}.csv`} data={data} headers={CSVheaders}>Download CSV</CSVLink></DefaultButton> : null}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.auth.token,\n        admin: state.auth.admin,\n        balance: state.auth.balance,\n        users: state.users.users,\n        transactions: state.transactions.transactions,\n        editing: state.transactions.editing,\n        adding: state.transactions.adding,\n        editData: state.transactions.editData,\n        filters: state.transactions.filters\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        selectMenu: menu => dispatch(selectMenu(menu)),\n        setToken: token => dispatch(setToken(token)),\n        beginAdd: () => dispatch(beginAdd()),\n        beginEdit: id => dispatch(beginEdit(id)),\n        remove: url => dispatch(removeTransaction(url)),\n        getTransactions: () => dispatch(getAllTransactions()),\n        setFilter: (filter, value) => dispatch(setTransactionsFilter(filter, value)),\n        allTypes: bool => dispatch(setAllTypesSelected(bool)),\n        allPartners: bool => dispatch(setAllPartnersSelected(bool))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Transactions);","import React, {useEffect, useState} from 'react';\nimport moment from 'moment';\nimport {connect} from 'react-redux';\nimport {getLogs, setFilter, deleteLog} from '../store/actions/logsActions';\nimport {selectMenu} from '../store/actions/systemActions';\nimport { ActivityItem, Icon, Link, mergeStyleSets } from 'office-ui-fabric-react';\nimport { Redirect } from 'react-router-dom';\nimport { Text } from 'office-ui-fabric-react/lib/Text';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { IconButton } from 'office-ui-fabric-react';\nimport { Stack } from 'office-ui-fabric-react/lib/Stack';\nimport { DatePicker, DayOfWeek } from 'office-ui-fabric-react';\nimport { formatText, formatDate } from '../useful';\nimport * as t from '../store/actions/logTypes';\nimport './Logs.sass';\n\nfunction Logs({logs, token, getLogs, remove, selectMenu, users, filters, setFilter}){\n\n    function Log({item}){\n        const [hovered, setHovered] = useState(false);\n        let color = hovered ? '#666' : '#ccc';\n        return <div className=\"log\" onMouseOver={() => setHovered(true)} onMouseOut={() => setHovered(false)}>\n            <IconButton onMouseEnter={() => setHovered(true)} onClick={() => remove(item.key)} iconProps={{iconName:\"Delete\"}} styles={{root: {position: 'absolute', right: '60px', top: '3px', color}, rootHovered: {color: 'red'}}} />\n            <ActivityItem {...item} className={classNames.exampleRoot} />\n        </div>\n    }\n\n    let {fromDate, toDate, message} = filters;\n\n    fromDate = new Date(fromDate);\n    toDate = new Date(toDate);\n\n    useEffect(()=>{\n        document.title = \"Chimera | Logs\"; \n        selectMenu(\"4\");\n    }, [selectMenu]);\n\n    useEffect(()=>{\n        getLogs()\n    }, [getLogs, filters])\n\n    function getUsername(user){\n        if(users.length){\n            const filteredUser = users.filter(u=> u.url === `http://api.chimera-finance.com/api/users/${user}/`);\n            if(filteredUser.length){\n                return \"@\" + filteredUser[0].username;\n            }else{\n                return \"Deleted\"\n            }\n        }else{\n            return '';\n        }\n    }\n\n    const classNames = mergeStyleSets({\n        exampleRoot: {\n          marginTop: '8px',\n          textAlign: 'left'\n        },\n        nameText: {\n          fontWeight: 'bold'\n        }\n    });\n\n    const items = logs.map(log => {\n        let iconName = '', color= '';\n        switch(log.log_type){\n            case t.USER_ADD: iconName = 'FollowUser'; color=\"darkgreen\";break;\n            case t.USER_REMOVE: iconName = 'UserRemove';color=\"darkred\"; break;\n            case t.USER_UPDATE: iconName = 'UserSync'; color=\"orange\";break;\n            case t.TRANSACTION_ADD: iconName = 'Money'; color=\"darkgreen\";break;\n            case t.TRANSACTION_REMOVE: iconName = 'Money';color=\"darkred\"; break;\n            case t.USER_DEACTIVATE: iconName = 'UserPause';color=\"darkred\"; break;\n            case t.USER_ACTIVATE: iconName = 'UserFollowed'; color=\"darkgreen\";break;\n            default: iconName = \"Message\";\n        }\n        return {\n            key: log.id,\n            activityDescription: [\n              <Text className={classNames.nameText} key={log.id}>{formatText(log.log_type)}</Text>,\n              <Link key={log.id + 'a'}>&nbsp;{getUsername(log.user)}</Link>\n            ],\n            activityIcon: <Icon styles={{root:{color}}} iconName={iconName} />,\n            comments: [\n              <span key={log.id}>{log.message}</span>\n            ],\n            timeStamp: moment(new Date(log.entry_time)).format(\"DD/MM/YY hh:mm:ss\")\n          }\n    })\n\n    if(!token){return <Redirect to=\"/login\" />}\n\n    return(\n        <div id=\"logs\">\n            <Stack horizontal horizontalAlign=\"auto\" tokens={{ childrenGap: 20 }} styles={{ root: { width: \"auto\", marginTop: '20px', marginBottom: '12px' } }}>\n                <DatePicker style={{width: 140}} formatDate={date => formatDate(date)} firstDayOfWeek={DayOfWeek.Monday} maxDate={toDate} placeholder=\"From date\" value={fromDate} onSelectDate={e=> setFilter('fromDate',new Date(new Date(e).setHours(0,0,0,0)))}/>\n                <DatePicker style={{width: 140}} formatDate={date => formatDate(date)} firstDayOfWeek={DayOfWeek.Monday} maxDate={new Date(new Date().setHours(23,59,59,0))} minDate={fromDate} placeholder=\"To date\" value={toDate} onSelectDate={e=> setFilter('toDate',new Date(new Date(e).setHours(23,59,59,0)))}/>\n                <TextField style={{width: 300}} type=\"text\" value={message} placeholder=\"Search log text...\" onChange={({target}) => setFilter('message',target.value.toLowerCase())} />\n            </Stack>\n            <div className=\"logs\">\n                {items.map(item => (\n                    <Log key={item.key} item={item} />\n                ))}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.auth.token,\n        logs: state.logs.logs,\n        filters: state.logs.filters,\n        users: state.users.users\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getLogs: () => dispatch(getLogs()),\n        remove: id => dispatch(deleteLog(id)),\n        selectMenu: menu => dispatch(selectMenu(menu)),\n        setFilter: (filter, value) => dispatch(setFilter(filter, value))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Logs);","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Menu from './pjeset/common/Menu';\nimport Notifications from './pjeset/common/Notifications';\nimport Home from './faqet/Home';\nimport Login from './faqet/Login';\nimport Users from './faqet/Users';\nimport Transactions from './faqet/Transactions';\nimport Logs from './faqet/Logs';\nimport { initializeIcons } from 'office-ui-fabric-react/lib/Icons';\nimport './App.css';\n\ninitializeIcons();\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Menu />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/users\" component={Users} />\n        <Route exact path=\"/transactions\" component={Transactions} />\n        <Route exact path=\"/logs\" component={Logs} />\n      </Switch>\n      <Notifications />\n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { persistStore, persistReducer } from 'redux-persist'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport storage from 'redux-persist/lib/storage'\nimport { BrowserRouter } from 'react-router-dom';\nimport rootReducer from './store/reducers/rootReducer';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst persistConfig = {\n        key: 'root',\n        storage,\n      }\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);  \nconst store = createStore(persistedReducer, applyMiddleware(thunk));\nconst persistor = persistStore(store);\nwindow.persistor = persistor;\n\nReactDOM.render(\n                <Provider store={store}>\n                        <PersistGate loading={null} persistor={persistor}>\n                                <BrowserRouter>\n                                        <App />\n                                </BrowserRouter>\n                        </PersistGate>\n                </Provider>, \n        document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}